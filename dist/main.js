!function(Q){var U={};function F(B){if(U[B])return U[B].exports;var s=U[B]={i:B,l:!1,exports:{}};return Q[B].call(s.exports,s,s.exports,F),s.l=!0,s.exports}F.m=Q,F.c=U,F.d=function(Q,U,B){F.o(Q,U)||Object.defineProperty(Q,U,{enumerable:!0,get:B})},F.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},F.t=function(Q,U){if(1&U&&(Q=F(Q)),8&U)return Q;if(4&U&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var B=Object.create(null);if(F.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:Q}),2&U&&"string"!=typeof Q)for(var s in Q)F.d(B,s,function(U){return Q[U]}.bind(null,s));return B},F.n=function(Q){var U=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return F.d(U,"a",U),U},F.o=function(Q,U){return Object.prototype.hasOwnProperty.call(Q,U)},F.p="",F(F.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/scaleManager.js\nclass ScaleManager {\r\n    constructor(canvas, isMobile) {\r\n        this.canvas = canvas;\r\n        this.mobile = isMobile;\r\n\r\n        window.addEventListener(\'resize\', () => {\r\n            this.resize(this.canvas);\r\n\r\n            if (this.mobile) {\r\n                if (window.innerWidth < window.innerHeight) {\r\n                    this.leaveIncorrectOrientation();\r\n                } else {\r\n                    this.enterIncorrectOrientation();\r\n                }\r\n            }\r\n        });\r\n\r\n        this.resize(this.canvas);\r\n    }\r\n\r\n    resize(canvas) {\r\n        let scale = Math.min(window.innerWidth / canvas.width, window.innerHeight / canvas.height);\r\n        let orientation = \'left\';\r\n        let extra = (this.mobile) ? \'margin-left: -50%\': \'\';\r\n        let margin = window.innerWidth / 2 - (canvas.width / 2) * scale;\r\n\r\n        canvas.setAttribute(\'style\', \'-ms-transform-origin: \' + orientation + \' top; -webkit-transform-origin: \' + orientation + \' top;\' +\r\n            \' -moz-transform-origin: \' + orientation + \' top; -o-transform-origin: \' + orientation + \' top; transform-origin: \' + orientation + \' top;\' +\r\n            \' -ms-transform: scale(\' + scale + \'); -webkit-transform: scale3d(\' + scale + \', 1);\' +\r\n            \' -moz-transform: scale(\' + scale + \'); -o-transform: scale(\' + scale + \'); transform: scale(\' + scale + \');\' +\r\n            \' display: block; margin-left: \' + margin + \'px;\'\r\n        );\r\n    }\r\n\r\n    enterIncorrectOrientation() {\r\n        document.getElementById("orientation").style.display = "block";\r\n        document.getElementById("content").style.display = "none";\r\n    }\r\n\r\n    leaveIncorrectOrientation() {\r\n        document.getElementById("orientation").style.display = "none";\r\n        document.getElementById("content").style.display = "block";\r\n    }\r\n}\r\n/* harmony default export */ var scaleManager = (ScaleManager);\n// CONCATENATED MODULE: ./src/helpers.ts\n/* harmony default export */ var helpers = ({\r\n    lerp: function (value1, value2, amount) {\r\n        amount = amount < 0 ? 0 : amount;\r\n        amount = amount > 1 ? 1 : amount;\r\n        return value1 + (value2 - value1) * amount;\r\n    },\r\n    dist: function (g1, g2) {\r\n        return Math.sqrt(Math.pow(g1.y - g2.y, 2) + Math.pow(g1.x - g2.x, 2));\r\n    },\r\n    clamp: function (min, max, v) {\r\n        return Math.min(Math.max(v, min), v);\r\n    },\r\n    fadeOut: function (scene, cb) {\r\n        var g = scene.add.graphics({\r\n            fillStyle: {\r\n                color: 0x000000\r\n            }\r\n        });\r\n        g.fillRect(0, 0, scene.game.config.width, scene.game.config.height);\r\n        g.alpha = 0;\r\n        g.depth = 10000;\r\n        scene.tweens.add({\r\n            targets: g,\r\n            alpha: 1,\r\n            duration: 1000,\r\n            onComplete: cb\r\n        });\r\n    },\r\n    fadeIn: function (scene, cb) {\r\n        var g = scene.add.graphics({\r\n            fillStyle: {\r\n                color: 0x000000\r\n            }\r\n        });\r\n        g.fillRect(0, 0, scene.game.config.width, scene.game.config.height);\r\n        g.depth = 10000;\r\n        scene.tweens.add({\r\n            targets: g,\r\n            alpha: 0,\r\n            duration: 1000,\r\n            onComplete: cb\r\n        });\r\n    }\r\n});\r\n\n// CONCATENATED MODULE: ./src/entities/Cloud.ts\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar Cloud = /** @class */ (function (_super) {\r\n    __extends(Cloud, _super);\r\n    function Cloud(scene, x, y) {\r\n        var _this = _super.call(this, scene, x, y, Math.random() < 0.3 ? "cloud2" : "cloud1", 0) || this;\r\n        _this.scene = scene;\r\n        _this.scene.add.existing(_this);\r\n        _this.speed = Math.random() + 0.6;\r\n        return _this;\r\n    }\r\n    Cloud.prototype.preUpdate = function (t, delta) {\r\n        _super.prototype.preUpdate.call(this, t, delta);\r\n        this.x += this.speed;\r\n        if (this.x > this.scene.game.config.width + 100)\r\n            this.x = -100;\r\n    };\r\n    return Cloud;\r\n}(Phaser.GameObjects.Sprite));\r\n\r\n\n// CONCATENATED MODULE: ./src/entities/Player.ts\nvar Player_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar Player = /** @class */ (function (_super) {\r\n    Player_extends(Player, _super);\r\n    function Player(scene, x, y, ball, myGoal, targetGoal) {\r\n        var _this = _super.call(this, scene.matter.world, x, y, "rplayer", 0) || this;\r\n        _this.ball = ball;\r\n        _this.myGoal = myGoal;\r\n        _this.targetGoal = targetGoal;\r\n        _this.canMove = true;\r\n        _this.dying = false;\r\n        _this.trailPoints = [];\r\n        _this.trailGfx = _this.scene.add.graphics({\r\n            lineStyle: {\r\n                width: 2,\r\n                alpha: 0.25,\r\n                color: 0xFFFFFF\r\n            }\r\n        });\r\n        _this.scene = scene;\r\n        _this.scene.add.existing(_this);\r\n        _this.setBody({\r\n            type: "circle",\r\n            radius: 12,\r\n        }, {});\r\n        _this.displayOriginX = 17;\r\n        _this.displayOriginY = 17;\r\n        _this.lastJumpT = -100;\r\n        _this.setBounce(0.9);\r\n        _this.setFrictionAir(0);\r\n        _this.setFrictionStatic(0);\r\n        _this.init();\r\n        _this.mBody.mass = 0.5;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Player.prototype, "mBody", {\r\n        get: function () { return this.body; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Player.prototype.preUpdate = function (t, delta) {\r\n        _super.prototype.preUpdate.call(this, t, delta);\r\n        if (this.canMove) {\r\n            this.control();\r\n        }\r\n        else {\r\n            this.setVelocity(0, 0);\r\n        }\r\n        if (this.mBody.velocity.x > 7)\r\n            this.setVelocityX(7);\r\n        if (this.mBody.velocity.x < -7)\r\n            this.setVelocityX(-7);\r\n        if (this.dying) {\r\n            this.deathSprite.angle = Math.sin(this.scene.time.now * 0.06) * 30;\r\n        }\r\n        if (this.dying) {\r\n            this.trailPoints.push([this.deathSprite.x, this.deathSprite.y]);\r\n        }\r\n        else {\r\n            this.trailPoints.push([this.x, this.y]);\r\n        }\r\n        while (this.trailPoints.length > 20)\r\n            this.trailPoints.shift();\r\n        var firstPoint = this.trailPoints[0];\r\n        this.trailGfx.clear();\r\n        this.trailGfx.beginPath();\r\n        this.trailGfx.lineStyle(10, 0xFFFFFF, 0.2);\r\n        this.trailGfx.moveTo(firstPoint[0], firstPoint[1]);\r\n        for (var i = 1; i < this.trailPoints.length; i++) {\r\n            var p = this.trailPoints[i];\r\n            this.trailGfx.lineTo(p[0], p[1]);\r\n        }\r\n        this.trailGfx.strokePath();\r\n        this.trailGfx.beginPath();\r\n        this.trailGfx.lineStyle(2, 0xFFFFFF, 0.2);\r\n        this.trailGfx.moveTo(firstPoint[0], firstPoint[1]);\r\n        for (var i = 1; i < this.trailPoints.length; i++) {\r\n            var p = this.trailPoints[i];\r\n            this.trailGfx.lineTo(p[0], p[1] - 12);\r\n        }\r\n        this.trailGfx.strokePath();\r\n        this.trailGfx.beginPath();\r\n        this.trailGfx.lineStyle(2, 0xFFFFFF, 0.2);\r\n        this.trailGfx.moveTo(firstPoint[0], firstPoint[1]);\r\n        for (var i = 1; i < this.trailPoints.length; i++) {\r\n            var p = this.trailPoints[i];\r\n            this.trailGfx.lineTo(p[0], p[1] + 12);\r\n        }\r\n        this.trailGfx.strokePath();\r\n    };\r\n    Player.prototype.move = function (dx) {\r\n        var v = this.mBody.velocity.x;\r\n        var speed = 0.13;\r\n        if (Math.abs(v) < 2)\r\n            speed *= 1.4;\r\n        this.setVelocityX(v + (dx * speed));\r\n    };\r\n    Player.prototype.moveDown = function () {\r\n        var v = this.mBody.velocity.y;\r\n        this.setVelocityY(v + 0.2);\r\n    };\r\n    Player.prototype.jump = function () {\r\n        var t = this.scene.time.now;\r\n        var dt = t - this.lastJumpT;\r\n        if (dt < 500)\r\n            return;\r\n        this.lastJumpT = t;\r\n        this.setVelocityY(-5);\r\n    };\r\n    Player.prototype.die = function (cb) {\r\n        var _this = this;\r\n        this.setVisible(false);\r\n        var spr = this.scene.add.sprite(this.x, this.y, this.texture.key, 0);\r\n        spr.angle = this.angle;\r\n        this.deathSprite = spr;\r\n        this.scene.tweens.add({\r\n            targets: spr,\r\n            x: this.scene.game.config.width / 2,\r\n            y: 130,\r\n            angle: 720,\r\n            ease: "Quad.easeInOut",\r\n            duration: 1000,\r\n            onComplete: function () {\r\n                _this.scene.tweens.add({\r\n                    targets: spr,\r\n                    y: 100,\r\n                    scaleX: 1.5,\r\n                    scaleY: 1.5,\r\n                    ease: "Quad.easeInOut",\r\n                    duration: 1000\r\n                });\r\n                setTimeout(function () {\r\n                    var beamSprite = _this.scene.add.sprite(_this.deathSprite.x, 0, "beam").setOrigin(0.5, 0);\r\n                    beamSprite.alpha = 0;\r\n                    beamSprite.blendMode = Phaser.BlendModes.ADD;\r\n                    beamSprite.depth = 100;\r\n                    beamSprite.scaleX = 0;\r\n                    _this.scene.tweens.add({\r\n                        targets: beamSprite,\r\n                        alpha: 0.3,\r\n                        scaleX: 1,\r\n                        duration: 1250,\r\n                        onComplete: function () {\r\n                            _this.deathSprite.setVisible(false);\r\n                            var emitter0 = _this.scene.add.particles("particle").createEmitter({\r\n                                x: 0,\r\n                                y: 0,\r\n                                speed: { min: -500, max: 500 },\r\n                                angle: { min: 0, max: 360 },\r\n                                scale: { start: 1, end: 0.7 },\r\n                                //blendMode: \'SCREEN\',\r\n                                //active: false,\r\n                                lifespan: 2000,\r\n                                gravityY: 400\r\n                            });\r\n                            emitter0.explode(100, _this.deathSprite.x, _this.deathSprite.y);\r\n                            setTimeout(function () {\r\n                                cb();\r\n                            }, 500);\r\n                        }\r\n                    });\r\n                }, 100);\r\n            }\r\n        });\r\n        this.scene.tweens.add({\r\n            targets: this.scene.cameras.main,\r\n            //x: this.deathSprite.x,\r\n            //y: this.deathSprite.y,\r\n            zoom: 1.6,\r\n            duration: 1000,\r\n            delay: 250,\r\n            ease: "Quad.easeInOut",\r\n        });\r\n        this.dying = true;\r\n    };\r\n    return Player;\r\n}(Phaser.Physics.Matter.Sprite));\r\n\r\n\n// CONCATENATED MODULE: ./src/entities/ControlledPlayer.ts\nvar ControlledPlayer_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar ControlledPlayer = /** @class */ (function (_super) {\r\n    ControlledPlayer_extends(ControlledPlayer, _super);\r\n    function ControlledPlayer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ControlledPlayer.prototype.init = function () {\r\n        this.left = this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A);\r\n        this.right = this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D);\r\n        this.up = this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W);\r\n        this.down = this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S);\r\n    };\r\n    ControlledPlayer.prototype.control = function () {\r\n        if (this.left.isDown)\r\n            this.move(-1);\r\n        else if (this.right.isDown)\r\n            this.move(1);\r\n        if (this.up.isDown)\r\n            this.jump();\r\n        if (this.down.isDown)\r\n            this.moveDown();\r\n    };\r\n    return ControlledPlayer;\r\n}(Player));\r\n\r\n\n// CONCATENATED MODULE: ./src/entities/AIPlayer.ts\nvar AIPlayer_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\nvar AIStates;\r\n(function (AIStates) {\r\n    AIStates[AIStates["Sleep"] = 0] = "Sleep";\r\n    AIStates[AIStates["BallChase"] = 1] = "BallChase";\r\n})(AIStates || (AIStates = {}));\r\nvar AIPlayer_AIPlayer = /** @class */ (function (_super) {\r\n    AIPlayer_extends(AIPlayer, _super);\r\n    function AIPlayer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AIPlayer.prototype.init = function () {\r\n        this.setTexture("bplayer");\r\n        this.displayOriginX = 13;\r\n        this.left = this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A);\r\n        this.right = this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D);\r\n        this.up = this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W);\r\n        this.state = AIStates.Sleep;\r\n    };\r\n    AIPlayer.prototype.control = function () {\r\n        var _this = this;\r\n        var t = this.scene.time.now;\r\n        var dt = t - this.lastStateChangeT;\r\n        var ballDx = this.ball.x - this.x;\r\n        var ballDy = this.ball.y - this.y;\r\n        var ballTheta = Math.atan2(ballDy, ballDx);\r\n        var ballDistToMyGoal = helpers.dist(this.ball, this.myGoal);\r\n        var ballDistToTargetGoal = helpers.dist(this.ball, this.targetGoal);\r\n        var targetGoalDx = this.ball.x - this.targetGoal.x;\r\n        switch (this.state) {\r\n            case AIStates.Sleep:\r\n                if (!this.changeTimeout) {\r\n                    this.changeTimeout = setTimeout(function () {\r\n                        _this.changeTimeout = null;\r\n                        _this.state = AIStates.BallChase;\r\n                    }, 1500);\r\n                }\r\n                break;\r\n            case AIStates.BallChase:\r\n                if (targetGoalDx < 0 && ballDx < 0) {\r\n                    this.move(-1);\r\n                }\r\n                else if (targetGoalDx > 0 && ballDx > 0) {\r\n                    this.move(1);\r\n                }\r\n                else {\r\n                    if (ballDx < 0)\r\n                        this.move(-1);\r\n                    else\r\n                        this.move(1);\r\n                }\r\n                if (ballDy < -10)\r\n                    this.jump();\r\n                if (dt > 1500)\r\n                    this.switchState(AIStates.Sleep);\r\n                break;\r\n        }\r\n    };\r\n    AIPlayer.prototype.switchState = function (newState) {\r\n        this.lastStateChangeT = this.scene.time.now;\r\n        this.state = newState;\r\n    };\r\n    return AIPlayer;\r\n}(Player));\r\n\r\n\n// CONCATENATED MODULE: ./src/entities/Goal.ts\nvar Goal_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar Goal = /** @class */ (function (_super) {\r\n    Goal_extends(Goal, _super);\r\n    function Goal(scene, x, y, color) {\r\n        var _this = _super.call(this, scene, x, y) || this;\r\n        _this.color = color;\r\n        _this.scene = scene;\r\n        _this.sprite = _this.scene.add.sprite(0, 0, color + "goal");\r\n        _this.add(_this.sprite);\r\n        //this.accent = this.scene.add.sprite(0, 0, `${color}goal_accent`);\r\n        //this.add(this.accent);\r\n        _this.scene.add.existing(_this);\r\n        return _this;\r\n    }\r\n    Goal.prototype.update = function () {\r\n        _super.prototype.update.call(this);\r\n        //this.accent.angle += 1.5;\r\n        this.sprite.angle += -2;\r\n        /*\r\n        const t = this.scene.time.now;\r\n        const s = 1 + Math.sin(t*0.005)*0.15;\r\n        this.scaleX = s;\r\n        this.scaleY = s;\r\n        */\r\n    };\r\n    Goal.prototype.explode = function () {\r\n        var explSprite = this.scene.add.sprite(this.x, this.y, this.color + "goalexpl");\r\n        explSprite.angle = Math.random() * 360;\r\n        explSprite.setScale(2, 2);\r\n        explSprite.anims.play(this.color + "goalexpl");\r\n    };\r\n    return Goal;\r\n}(Phaser.GameObjects.Container));\r\n\r\n\n// CONCATENATED MODULE: ./src/entities/Ball.ts\nvar Ball_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar Ball = /** @class */ (function (_super) {\r\n    Ball_extends(Ball, _super);\r\n    function Ball(scene, x, y) {\r\n        var _this = _super.call(this, scene.matter.world, x, y, "ball", 0) || this;\r\n        _this.trailPoints = [];\r\n        _this.trailGfx = _this.scene.add.graphics({\r\n            lineStyle: {\r\n                width: 2,\r\n                alpha: 0.25,\r\n                color: 0xFFFFFF\r\n            }\r\n        });\r\n        _this.scene = scene;\r\n        _this.scene.add.existing(_this);\r\n        _this.setBody({\r\n            type: "circle",\r\n            radius: 8\r\n        }, {});\r\n        _this.setBounce(1);\r\n        _this.setFrictionAir(0);\r\n        _this.setFrictionStatic(0);\r\n        _this.body.mass = 0.01;\r\n        return _this;\r\n    }\r\n    Ball.prototype.preUpdate = function (t, delta) {\r\n        _super.prototype.preUpdate.call(this, t, delta);\r\n        this.trailPoints.push([this.x, this.y]);\r\n        while (this.trailPoints.length > 20)\r\n            this.trailPoints.shift();\r\n        var firstPoint = this.trailPoints[0];\r\n        this.trailGfx.clear();\r\n        this.trailGfx.beginPath();\r\n        this.trailGfx.lineStyle(5, 0xFFFFFF, 0.2);\r\n        this.trailGfx.moveTo(firstPoint[0], firstPoint[1]);\r\n        for (var i = 1; i < this.trailPoints.length; i++) {\r\n            var p = this.trailPoints[i];\r\n            this.trailGfx.lineTo(p[0], p[1]);\r\n        }\r\n        this.trailGfx.strokePath();\r\n    };\r\n    return Ball;\r\n}(Phaser.Physics.Matter.Sprite));\r\n\r\n\n// CONCATENATED MODULE: ./src/scenes/MainScene.ts\nvar MainScene_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar DEBUG = false;\r\nvar SCORE_DIST = 17;\r\nvar GameStates;\r\n(function (GameStates) {\r\n    GameStates[GameStates["Playing"] = 1] = "Playing";\r\n    GameStates[GameStates["Ended"] = 2] = "Ended";\r\n})(GameStates || (GameStates = {}));\r\nvar MainScene_MainScene = /** @class */ (function (_super) {\r\n    MainScene_extends(MainScene, _super);\r\n    function MainScene() {\r\n        var _this = _super.call(this, {\r\n            key: "MainScene"\r\n        }) || this;\r\n        _this.state = GameStates.Playing;\r\n        return _this;\r\n    }\r\n    MainScene.prototype.preload = function () {\r\n        this.load.image("ball", "/assets/export-ball.png");\r\n        this.load.image("beam", "/assets/export-beam.png");\r\n        this.load.image("bg", "/assets/export-bg.png");\r\n        this.load.image("bgoal", "/assets/export-bgoal.png");\r\n        this.load.image("bgoal_accent", "/assets/export-bgoal_accent.png");\r\n        this.load.image("bplayer", "/assets/export-bplayer.png");\r\n        this.load.image("cloud1", "/assets/export-cloud1.png");\r\n        this.load.image("cloud2", "/assets/export-cloud2.png");\r\n        this.load.image("ground", "/assets/export-ground.png");\r\n        this.load.image("Layer", "/assets/export-Layer");\r\n        this.load.image("lside", "/assets/export-lside.png");\r\n        this.load.image("m1", "/assets/export-m1.png");\r\n        this.load.image("m2", "/assets/export-m2.png");\r\n        this.load.image("particle", "/assets/export-particle.png");\r\n        this.load.image("rgoal", "/assets/export-rgoal.png");\r\n        this.load.image("rgoal_accent", "/assets/export-rgoal_accent.png");\r\n        this.load.image("rgoal", "/assets/export-rgoal-expl.png");\r\n        this.load.image("rplayer", "/assets/export-rplayer.png");\r\n        this.load.image("rside", "/assets/export-rside.png");\r\n        this.load.image("sun", "/assets/export-sun.png");\r\n        this.load.image("ui", "/assets/export-ui.png");\r\n        this.load.spritesheet("bgoalexpl", "/assets/export-bgoalexpl.png", {\r\n            frameWidth: 70,\r\n            frameHeight: 70,\r\n            startFrame: 0,\r\n            endFrame: 8,\r\n        });\r\n        this.load.spritesheet("rgoalexpl", "/assets/export-rgoalexpl.png", {\r\n            frameWidth: 70,\r\n            frameHeight: 70,\r\n            startFrame: 0,\r\n            endFrame: 8,\r\n        });\r\n    };\r\n    MainScene.prototype.create = function () {\r\n        var _this = this;\r\n        this.anims.create({\r\n            key: "bgoalexpl",\r\n            frameRate: 15,\r\n            repeat: 0,\r\n            frames: this.anims.generateFrameNumbers("bgoalexpl", { start: 0, end: 8 })\r\n        });\r\n        this.anims.create({\r\n            key: "rgoalexpl",\r\n            frameRate: 15,\r\n            repeat: 0,\r\n            frames: this.anims.generateFrameNumbers("rgoalexpl", { start: 0, end: 8 })\r\n        });\r\n        this.state = GameStates.Playing;\r\n        var bg = this.add.sprite(0, 0, "bg").setOrigin(0, 0);\r\n        this.clouds = [];\r\n        for (var i = 0; i < 14; i++) {\r\n            this.clouds.push(new Cloud(this, -100 + (Math.random() * 450), -10 + Math.random() * 30));\r\n        }\r\n        var lside = this.add.sprite(0, this.game.config.height, "lside").setOrigin(0, 1);\r\n        var rside = this.add.sprite(this.game.config.width, this.game.config.height, "rside").setOrigin(1, 1);\r\n        var ground = this.add.sprite(0, this.game.config.height, "ground").setOrigin(0, 1);\r\n        var pGround = this.matter.add.rectangle(0, 280, 1000, 100, { isStatic: true });\r\n        var pLside = this.matter.add.rectangle(0, 236, 110, 100, { isStatic: true, angle: 0.8 });\r\n        var pRside = this.matter.add.rectangle(481, 236, 110, 100, { isStatic: true, angle: -0.8 });\r\n        this.matter.world.setBounds();\r\n        this.ball = new Ball(this, this.game.config.width / 2, 100);\r\n        this.rGoal = new Goal(this, 51, 131, "r");\r\n        this.bGoal = new Goal(this, this.game.config.width - 50, 131, "b");\r\n        this.rPlayer = new ControlledPlayer(this, 100, 100, this.ball, this.rGoal, this.bGoal);\r\n        this.bPlayer = new AIPlayer_AIPlayer(this, 380, 100, this.ball, this.bGoal, this.rGoal);\r\n        if (DEBUG) {\r\n            this.debugText = this.add.text(100, 100, "100", {\r\n                fontSize: 20\r\n            });\r\n        }\r\n        var uiBg = this.add.sprite(0, 0, "ui").setOrigin(0, 0);\r\n        var lScoreText = this.add.text(43, 240, MainScene.rScore.toString(), {\r\n            fontSize: 18,\r\n            align: "center"\r\n        });\r\n        var rScoreText = this.add.text(this.game.config.width - 53, 240, MainScene.rScore.toString(), {\r\n            fontSize: 18,\r\n            align: "center"\r\n        });\r\n        this.rPlayer.canMove = false;\r\n        this.bPlayer.canMove = false;\r\n        this.rPlayer.setStatic(true);\r\n        this.bPlayer.setStatic(true);\r\n        this.ball.setStatic(true);\r\n        helpers.fadeIn(this, function () {\r\n            _this.rPlayer.canMove = true;\r\n            _this.bPlayer.canMove = true;\r\n            _this.rPlayer.setStatic(false);\r\n            _this.bPlayer.setStatic(false);\r\n            _this.ball.setStatic(false);\r\n        });\r\n        //this.goal("r");\r\n    };\r\n    MainScene.prototype.update = function () {\r\n        this.rGoal.update();\r\n        this.bGoal.update();\r\n        var bGoalDist = helpers.dist(this.bGoal, this.ball);\r\n        if (DEBUG) {\r\n            this.debugText.text = bGoalDist.toString();\r\n        }\r\n        if (helpers.dist(this.rGoal, this.ball) < SCORE_DIST)\r\n            this.goal("r");\r\n        if (bGoalDist < SCORE_DIST)\r\n            this.goal("b");\r\n    };\r\n    MainScene.prototype.goal = function (side) {\r\n        var _this = this;\r\n        if (this.state == GameStates.Ended)\r\n            return;\r\n        this.state = GameStates.Ended;\r\n        var deadPlayer = side == "r" ? this.rPlayer : this.bPlayer;\r\n        var scoringPlayer = side == "r" ? this.bPlayer : this.rPlayer;\r\n        if (side == "r") {\r\n            this.rGoal.explode();\r\n            MainScene.bScore++;\r\n        }\r\n        if (side == "b") {\r\n            this.bGoal.explode();\r\n            MainScene.rScore++;\r\n        }\r\n        deadPlayer.canMove = false;\r\n        this.cameras.main.shake(300, 0.03);\r\n        deadPlayer.die(function () {\r\n            helpers.fadeOut(_this, function () {\r\n                _this.scene.start("MainScene");\r\n            });\r\n        });\r\n    };\r\n    MainScene.rScore = 0;\r\n    MainScene.bScore = 0;\r\n    return MainScene;\r\n}(Phaser.Scene));\r\n\r\n\n// CONCATENATED MODULE: ./src/LD43.ts\n\r\n\r\nvar LD43_LD43 = /** @class */ (function () {\r\n    function LD43() {\r\n        var _this = this;\r\n        this._game = new Phaser.Game({\r\n            width: 480,\r\n            height: 270,\r\n            type: Phaser.AUTO,\r\n            zoom: 1,\r\n            render: {\r\n                pixelArt: true,\r\n                antialias: false,\r\n                roundPixels: true,\r\n                transparent: false,\r\n            },\r\n            scene: MainScene_MainScene,\r\n            physics: {\r\n                default: "matter",\r\n                matter: {\r\n                    gravity: { x: 0, y: 0.65 },\r\n                }\r\n            },\r\n            callbacks: {\r\n                postBoot: function () {\r\n                    new scaleManager(_this._game.canvas, !_this._game.device.os.desktop);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return LD43;\r\n}());\r\n\r\n\n// CONCATENATED MODULE: ./src/index.ts\n\r\nvar g = new LD43_LD43();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NhbGVNYW5hZ2VyLmpzPzYwNWEiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMudHM/YmMxZSIsIndlYnBhY2s6Ly8vLi9zcmMvZW50aXRpZXMvQ2xvdWQudHM/ZDNiNCIsIndlYnBhY2s6Ly8vLi9zcmMvZW50aXRpZXMvUGxheWVyLnRzPzFjZGUiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VudGl0aWVzL0NvbnRyb2xsZWRQbGF5ZXIudHM/OTBiNSIsIndlYnBhY2s6Ly8vLi9zcmMvZW50aXRpZXMvQUlQbGF5ZXIudHM/ZWVlNyIsIndlYnBhY2s6Ly8vLi9zcmMvZW50aXRpZXMvR29hbC50cz84MWE2Iiwid2VicGFjazovLy8uL3NyYy9lbnRpdGllcy9CYWxsLnRzPzQ3OTgiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjZW5lcy9NYWluU2NlbmUudHM/MDRkYiIsIndlYnBhY2s6Ly8vLi9zcmMvTEQ0My50cz83OTBiIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cz9mZmI0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9GQUFvRixtREFBbUQ7QUFDdkksNkRBQTZELDhDQUE4QywyQ0FBMkM7QUFDdEosa0RBQWtELDhDQUE4QztBQUNoRyxtREFBbUQsb0NBQW9DLGlDQUFpQztBQUN4SCw2QkFBNkIsK0JBQStCO0FBQzVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlLDZEQUFZLEU7O0FDNUNaO0lBQ1gsSUFBSSxFQUFFLFVBQUMsTUFBYyxFQUFFLE1BQWMsRUFBRSxNQUFjO1FBQ2pELE1BQU0sR0FBRyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMs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LENBQUMsQ0FBQyxDQUFDO1FBQ3BELElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV0RCxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDWixJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7U0FDdEU7UUFFRCxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDWixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FBQztTQUNyRTthQUFNO1lBQ0gsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDO1NBQzdDO1FBQ0QsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxFQUFFO1lBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUU5RCxJQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXZDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFdEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUMxQixJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuRCxLQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFBRSxJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2xIO1FBQ0QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUUzQixJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQzFCLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDMUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25ELEtBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUFFLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1NBQ3ZIO1FBQ0QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUUzQixJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQzFCLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUM7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QU0sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ2pGLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQzNGLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFFOUYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUM7UUFFOUIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQVUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUVsRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFVLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBRTNFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FB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Q25CLGdCQUFNLEdBQVcsQ0FBQyxDQUFDO0lBZ0s5QixnQkFBQztDQUFBLENBMUs4QixNQUFNLENBQUMsS0FBSyxHQTBLMUM7QUExS3FCOzs7QUNoQm9CO0FBQ0s7QUFFL0M7SUFHSTtRQUFBLGlCQTBCQztRQXpCRyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQztZQUN6QixLQUFLLEVBQUUsR0FBRztZQUNWLE1BQU0sRUFBRSxHQUFHO1lBQ1gsSUFBSSxFQUFFLE1BQU0sQ0FBQyxJQUFJO1lBQ2pCLElBQUksRUFBRSxDQUFDO1lBQ1AsTUFBTSxFQUFFO2dCQUNKLFFBQVEsRUFBRSxJQUFJO2dCQUNkLFNBQVMsRUFBRSxLQUFLO2dCQUNoQixXQUFXLEVBQUUsSUFBSTtnQkFDakIsV0FBVyxFQUFFLEtBQUs7YUFDckI7WUFDRCxLQUFLLEVBQUUsbUJBQVM7WUFDaEIsT0FBTyxFQUFFO2dCQUNMLE9BQU8sRUFBRSxRQUFRO2dCQUNqQixNQUFNLEVBQUU7b0JBQ0osT0FBTyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFO2lCQUU3QjthQUNKO1lBQ0QsU0FBUyxFQUFFO2dCQUNQLFFBQVEsRUFBRTtvQkFDTixJQUFJLFlBQVksQ0FBQyxLQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDdkUsQ0FBQzthQUNKO1NBQ0osQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUNMLFdBQUM7QUFBRCxDQUFDOzs7O0FDakMyQjtBQUU1QixJQUFNLENBQUMsR0FBRyxJQUFJLFNBQUksRUFBRSxDQUFDIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBTY2FsZU1hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3IoY2FudmFzLCBpc01vYmlsZSkge1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIHRoaXMubW9iaWxlID0gaXNNb2JpbGU7XHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzaXplKHRoaXMuY2FudmFzKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1vYmlsZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgd2luZG93LmlubmVySGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sZWF2ZUluY29ycmVjdE9yaWVudGF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW50ZXJJbmNvcnJlY3RPcmllbnRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucmVzaXplKHRoaXMuY2FudmFzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXNpemUoY2FudmFzKSB7XHJcbiAgICAgICAgbGV0IHNjYWxlID0gTWF0aC5taW4od2luZG93LmlubmVyV2lkdGggLyBjYW52YXMud2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCAvIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgIGxldCBvcmllbnRhdGlvbiA9ICdsZWZ0JztcclxuICAgICAgICBsZXQgZXh0cmEgPSAodGhpcy5tb2JpbGUpID8gJ21hcmdpbi1sZWZ0OiAtNTAlJzogJyc7XHJcbiAgICAgICAgbGV0IG1hcmdpbiA9IHdpbmRvdy5pbm5lcldpZHRoIC8gMiAtIChjYW52YXMud2lkdGggLyAyKSAqIHNjYWxlO1xyXG5cclxuICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKCdzdHlsZScsICctbXMtdHJhbnNmb3JtLW9yaWdpbjogJyArIG9yaWVudGF0aW9uICsgJyB0b3A7IC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogJyArIG9yaWVudGF0aW9uICsgJyB0b3A7JyArXHJcbiAgICAgICAgICAgICcgLW1vei10cmFuc2Zvcm0tb3JpZ2luOiAnICsgb3JpZW50YXRpb24gKyAnIHRvcDsgLW8tdHJhbnNmb3JtLW9yaWdpbjogJyArIG9yaWVudGF0aW9uICsgJyB0b3A7IHRyYW5zZm9ybS1vcmlnaW46ICcgKyBvcmllbnRhdGlvbiArICcgdG9wOycgK1xyXG4gICAgICAgICAgICAnIC1tcy10cmFuc2Zvcm06IHNjYWxlKCcgKyBzY2FsZSArICcpOyAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzZCgnICsgc2NhbGUgKyAnLCAxKTsnICtcclxuICAgICAgICAgICAgJyAtbW96LXRyYW5zZm9ybTogc2NhbGUoJyArIHNjYWxlICsgJyk7IC1vLXRyYW5zZm9ybTogc2NhbGUoJyArIHNjYWxlICsgJyk7IHRyYW5zZm9ybTogc2NhbGUoJyArIHNjYWxlICsgJyk7JyArXHJcbiAgICAgICAgICAgICcgZGlzcGxheTogYmxvY2s7IG1hcmdpbi1sZWZ0OiAnICsgbWFyZ2luICsgJ3B4OydcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGVudGVySW5jb3JyZWN0T3JpZW50YXRpb24oKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvcmllbnRhdGlvblwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcblxyXG4gICAgbGVhdmVJbmNvcnJlY3RPcmllbnRhdGlvbigpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm9yaWVudGF0aW9uXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBTY2FsZU1hbmFnZXI7IiwiZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgbGVycDogKHZhbHVlMTogbnVtYmVyLCB2YWx1ZTI6IG51bWJlciwgYW1vdW50OiBudW1iZXIpID0+IHtcclxuICAgICAgICBhbW91bnQgPSBhbW91bnQgPCAwID8gMCA6IGFtb3VudDtcclxuICAgICAgICBhbW91bnQgPSBhbW91bnQgPiAxID8gMSA6IGFtb3VudDtcclxuICAgICAgICByZXR1cm4gdmFsdWUxICsgKHZhbHVlMiAtIHZhbHVlMSkgKiBhbW91bnQ7XHJcbiAgICB9LFxyXG4gICAgZGlzdDogKGcxOiBhbnksIGcyOiBhbnkpOiBudW1iZXIgPT4ge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coZzEueSAtIGcyLnksIDIpICsgTWF0aC5wb3coZzEueCAtIGcyLngsIDIpKTtcclxuICAgIH0sXHJcbiAgICBjbGFtcDogKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgdjogbnVtYmVyKTogbnVtYmVyID0+IHtcclxuICAgICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodiwgbWluKSwgdik7XHJcbiAgICB9LFxyXG4gICAgZmFkZU91dDogKHNjZW5lOiBQaGFzZXIuU2NlbmUsIGNiOiBGdW5jdGlvbik6IHZvaWQgPT4ge1xyXG4gICAgICAgIGNvbnN0IGcgPSBzY2VuZS5hZGQuZ3JhcGhpY3Moe1xyXG4gICAgICAgICAgICBmaWxsU3R5bGU6IHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAweDAwMDAwMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZy5maWxsUmVjdCgwLCAwLCA8bnVtYmVyPnNjZW5lLmdhbWUuY29uZmlnLndpZHRoLCA8bnVtYmVyPnNjZW5lLmdhbWUuY29uZmlnLmhlaWdodCk7XHJcbiAgICAgICAgZy5hbHBoYSA9IDA7XHJcbiAgICAgICAgZy5kZXB0aCA9IDEwMDAwO1xyXG4gICAgICAgIHNjZW5lLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiBnLFxyXG4gICAgICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXHJcbiAgICAgICAgICAgIG9uQ29tcGxldGU6IGNiXHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgZmFkZUluOiAoc2NlbmU6IFBoYXNlci5TY2VuZSwgY2I6IEZ1bmN0aW9uKTogdm9pZCA9PiB7XHJcbiAgICAgICAgY29uc3QgZyA9IHNjZW5lLmFkZC5ncmFwaGljcyh7XHJcbiAgICAgICAgICAgIGZpbGxTdHlsZToge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IDB4MDAwMDAwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBnLmZpbGxSZWN0KDAsIDAsIDxudW1iZXI+c2NlbmUuZ2FtZS5jb25maWcud2lkdGgsIDxudW1iZXI+c2NlbmUuZ2FtZS5jb25maWcuaGVpZ2h0KTtcclxuICAgICAgICBnLmRlcHRoID0gMTAwMDA7XHJcbiAgICAgICAgc2NlbmUudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IGcsXHJcbiAgICAgICAgICAgIGFscGhhOiAwLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgb25Db21wbGV0ZTogY2JcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBoZWxwZXJzIGZyb20gXCIuLi9oZWxwZXJzXCI7XHJcbmltcG9ydCB7IE1haW5TY2VuZSB9IGZyb20gXCIuLi9zY2VuZXMvTWFpblNjZW5lXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ2xvdWQgZXh0ZW5kcyBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlIHtcclxuICAgIHNwZWVkOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IE1haW5TY2VuZSwgeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcihzY2VuZSwgeCwgeSwgTWF0aC5yYW5kb20oKSA8IDAuMyA/IFwiY2xvdWQyXCIgOiBcImNsb3VkMVwiLCAwKTtcclxuICAgICAgICB0aGlzLnNjZW5lID0gPFBoYXNlci5TY2VuZT5zY2VuZTtcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZC5leGlzdGluZyh0aGlzKTtcclxuICAgICAgICB0aGlzLnNwZWVkID0gTWF0aC5yYW5kb20oKSArIDAuNjtcclxuICAgIH1cclxuXHJcbiAgICBwcmVVcGRhdGUodDogbnVtYmVyLCBkZWx0YTogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIucHJlVXBkYXRlKHQsIGRlbHRhKVxyXG4gICAgICAgIHRoaXMueCArPSB0aGlzLnNwZWVkO1xyXG4gICAgICAgIGlmICh0aGlzLnggPiA8bnVtYmVyPnRoaXMuc2NlbmUuZ2FtZS5jb25maWcud2lkdGggKyAxMDApIHRoaXMueCA9IC0xMDA7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgaGVscGVycyBmcm9tIFwiLi4vaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBNYWluU2NlbmUgfSBmcm9tIFwiLi4vc2NlbmVzL01haW5TY2VuZVwiO1xyXG5pbXBvcnQgeyBHb2FsIH0gZnJvbSBcIi4vR29hbFwiO1xyXG5pbXBvcnQgeyBCYWxsIH0gZnJvbSBcIi4vQmFsbFwiO1xyXG5pbXBvcnQgeyBCbGVuZE1vZGVzIH0gZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFBsYXllciBleHRlbmRzIFBoYXNlci5QaHlzaWNzLk1hdHRlci5TcHJpdGUge1xyXG4gICAgbGFzdEp1bXBUOiBudW1iZXI7XHJcbiAgICBjYW5Nb3ZlOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIGR5aW5nOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBkZWF0aFNwcml0ZTogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZTtcclxuICAgIHRyYWlsUG9pbnRzOiBudW1iZXJbXVtdID0gW107XHJcbiAgICB0cmFpbEdmeDogUGhhc2VyLkdhbWVPYmplY3RzLkdyYXBoaWNzO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBNYWluU2NlbmUsIHg6IG51bWJlciwgeTogbnVtYmVyLCBwdWJsaWMgYmFsbDogQmFsbCwgcHVibGljIG15R29hbDogR29hbCwgcHVibGljIHRhcmdldEdvYWw6IEdvYWwpIHtcclxuICAgICAgICBzdXBlcihzY2VuZS5tYXR0ZXIud29ybGQsIHgsIHksIFwicnBsYXllclwiLCAwKTtcclxuICAgICAgICB0aGlzLnRyYWlsR2Z4ID0gdGhpcy5zY2VuZS5hZGQuZ3JhcGhpY3Moe1xyXG4gICAgICAgICAgICBsaW5lU3R5bGU6IHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAyLFxyXG4gICAgICAgICAgICAgICAgYWxwaGE6IDAuMjUsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogMHhGRkZGRkZcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSA8UGhhc2VyLlNjZW5lPnNjZW5lO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkLmV4aXN0aW5nKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc2V0Qm9keSh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiY2lyY2xlXCIsXHJcbiAgICAgICAgICAgIHJhZGl1czogMTIsXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlPcmlnaW5YID0gMTc7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5T3JpZ2luWSA9IDE3O1xyXG4gICAgICAgIHRoaXMubGFzdEp1bXBUID0gLTEwMDtcclxuICAgICAgICB0aGlzLnNldEJvdW5jZSgwLjkpO1xyXG4gICAgICAgIHRoaXMuc2V0RnJpY3Rpb25BaXIoMCk7XHJcbiAgICAgICAgdGhpcy5zZXRGcmljdGlvblN0YXRpYygwKTtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgICAgICB0aGlzLm1Cb2R5Lm1hc3MgPSAwLjU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG1Cb2R5KCk6IE1hdHRlci5Cb2R5IHsgcmV0dXJuIDxNYXR0ZXIuQm9keT50aGlzLmJvZHk7IH1cclxuXHJcbiAgICBwcmVVcGRhdGUodDogbnVtYmVyLCBkZWx0YTogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIucHJlVXBkYXRlKHQsIGRlbHRhKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY2FuTW92ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2woKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFZlbG9jaXR5KDAsIDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMubUJvZHkudmVsb2NpdHkueCA+IDcpIHRoaXMuc2V0VmVsb2NpdHlYKDcpO1xyXG4gICAgICAgIGlmICh0aGlzLm1Cb2R5LnZlbG9jaXR5LnggPCAtNykgdGhpcy5zZXRWZWxvY2l0eVgoLTcpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5keWluZykge1xyXG4gICAgICAgICAgICB0aGlzLmRlYXRoU3ByaXRlLmFuZ2xlID0gTWF0aC5zaW4odGhpcy5zY2VuZS50aW1lLm5vdyAqIDAuMDYpICogMzA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5keWluZykge1xyXG4gICAgICAgICAgICB0aGlzLnRyYWlsUG9pbnRzLnB1c2goWyB0aGlzLmRlYXRoU3ByaXRlLngsIHRoaXMuZGVhdGhTcHJpdGUueSBdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnRyYWlsUG9pbnRzLnB1c2goWyB0aGlzLngsIHRoaXMueSBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2hpbGUgKHRoaXMudHJhaWxQb2ludHMubGVuZ3RoID4gMjApIHRoaXMudHJhaWxQb2ludHMuc2hpZnQoKTtcclxuXHJcbiAgICAgICAgY29uc3QgZmlyc3RQb2ludCA9IHRoaXMudHJhaWxQb2ludHNbMF07XHJcblxyXG4gICAgICAgIHRoaXMudHJhaWxHZnguY2xlYXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy50cmFpbEdmeC5iZWdpblBhdGgoKTtcclxuICAgICAgICB0aGlzLnRyYWlsR2Z4LmxpbmVTdHlsZSgxMCwgMHhGRkZGRkYsIDAuMik7XHJcbiAgICAgICAgdGhpcy50cmFpbEdmeC5tb3ZlVG8oZmlyc3RQb2ludFswXSwgZmlyc3RQb2ludFsxXSk7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMTsgaSA8IHRoaXMudHJhaWxQb2ludHMubGVuZ3RoOyBpKyspIHsgY29uc3QgcCA9IHRoaXMudHJhaWxQb2ludHNbaV07IHRoaXMudHJhaWxHZngubGluZVRvKHBbMF0sIHBbMV0pOyBcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50cmFpbEdmeC5zdHJva2VQYXRoKCk7XHJcblxyXG4gICAgICAgIHRoaXMudHJhaWxHZnguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgdGhpcy50cmFpbEdmeC5saW5lU3R5bGUoMiwgMHhGRkZGRkYsIDAuMik7XHJcbiAgICAgICAgdGhpcy50cmFpbEdmeC5tb3ZlVG8oZmlyc3RQb2ludFswXSwgZmlyc3RQb2ludFsxXSk7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMTsgaSA8IHRoaXMudHJhaWxQb2ludHMubGVuZ3RoOyBpKyspIHsgY29uc3QgcCA9IHRoaXMudHJhaWxQb2ludHNbaV07IHRoaXMudHJhaWxHZngubGluZVRvKHBbMF0sIHBbMV0gLSAxMik7IFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRyYWlsR2Z4LnN0cm9rZVBhdGgoKTtcclxuXHJcbiAgICAgICAgdGhpcy50cmFpbEdmeC5iZWdpblBhdGgoKTtcclxuICAgICAgICB0aGlzLnRyYWlsR2Z4LmxpbmVTdHlsZSgyLCAweEZGRkZGRiwgMC4yKTtcclxuICAgICAgICB0aGlzLnRyYWlsR2Z4Lm1vdmVUbyhmaXJzdFBvaW50WzBdLCBmaXJzdFBvaW50WzFdKTtcclxuICAgICAgICBmb3IobGV0IGkgPSAxOyBpIDwgdGhpcy50cmFpbFBvaW50cy5sZW5ndGg7IGkrKykgeyBjb25zdCBwID0gdGhpcy50cmFpbFBvaW50c1tpXTsgdGhpcy50cmFpbEdmeC5saW5lVG8ocFswXSwgcFsxXSArIDEyKTsgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudHJhaWxHZnguc3Ryb2tlUGF0aCgpO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmUoZHg6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IHYgPSB0aGlzLm1Cb2R5LnZlbG9jaXR5Lng7XHJcbiAgICAgICAgbGV0IHNwZWVkID0gMC4xMztcclxuICAgICAgICBpZiAoTWF0aC5hYnModikgPCAyKSBzcGVlZCAqPSAxLjQ7XHJcbiAgICAgICAgdGhpcy5zZXRWZWxvY2l0eVgodiArIChkeCAqIHNwZWVkKSk7XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZURvd24oKSB7XHJcbiAgICAgICAgY29uc3QgdiA9IHRoaXMubUJvZHkudmVsb2NpdHkueTtcclxuICAgICAgICB0aGlzLnNldFZlbG9jaXR5WSh2ICsgMC4yKTtcclxuICAgIH1cclxuXHJcbiAgICBqdW1wKCkge1xyXG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG4gICAgICAgIGNvbnN0IGR0ID0gdCAtIHRoaXMubGFzdEp1bXBUO1xyXG4gICAgICAgIGlmIChkdCA8IDUwMCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMubGFzdEp1bXBUID0gdDtcclxuICAgICAgICB0aGlzLnNldFZlbG9jaXR5WSgtNSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGllKGNiOiBGdW5jdGlvbikge1xyXG4gICAgICAgIHRoaXMuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgY29uc3Qgc3ByID0gdGhpcy5zY2VuZS5hZGQuc3ByaXRlKHRoaXMueCwgdGhpcy55LCB0aGlzLnRleHR1cmUua2V5LCAwKTtcclxuICAgICAgICBzcHIuYW5nbGUgPSB0aGlzLmFuZ2xlO1xyXG5cclxuICAgICAgICB0aGlzLmRlYXRoU3ByaXRlID0gc3ByO1xyXG5cclxuICAgICAgICB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiBzcHIsXHJcbiAgICAgICAgICAgIHg6IDxudW1iZXI+dGhpcy5zY2VuZS5nYW1lLmNvbmZpZy53aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IDEzMCxcclxuICAgICAgICAgICAgYW5nbGU6IDcyMCxcclxuICAgICAgICAgICAgZWFzZTogXCJRdWFkLmVhc2VJbk91dFwiLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogMTAwMCxcclxuICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0czogc3ByLFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IDEwMCxcclxuICAgICAgICAgICAgICAgICAgICBzY2FsZVg6IDEuNSxcclxuICAgICAgICAgICAgICAgICAgICBzY2FsZVk6IDEuNSxcclxuICAgICAgICAgICAgICAgICAgICBlYXNlOiBcIlF1YWQuZWFzZUluT3V0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJlYW1TcHJpdGUgPSB0aGlzLnNjZW5lLmFkZC5zcHJpdGUodGhpcy5kZWF0aFNwcml0ZS54LCAwLCBcImJlYW1cIikuc2V0T3JpZ2luKDAuNSwgMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJlYW1TcHJpdGUuYWxwaGEgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGJlYW1TcHJpdGUuYmxlbmRNb2RlID0gUGhhc2VyLkJsZW5kTW9kZXMuQUREO1xyXG4gICAgICAgICAgICAgICAgICAgIGJlYW1TcHJpdGUuZGVwdGggPSAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgYmVhbVNwcml0ZS5zY2FsZVggPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRzOiBiZWFtU3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTogMC4zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVg6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMjUwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYXRoU3ByaXRlLnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtaXR0ZXIwID0gdGhpcy5zY2VuZS5hZGQucGFydGljbGVzKFwicGFydGljbGVcIikuY3JlYXRlRW1pdHRlcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWVkOiB7IG1pbjogLTUwMCwgbWF4OiA1MDAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmdsZTogeyBtaW46IDAsIG1heDogMzYwIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGU6IHsgc3RhcnQ6IDEsIGVuZDogMC43IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ibGVuZE1vZGU6ICdTQ1JFRU4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWN0aXZlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWZlc3BhbjogMjAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmF2aXR5WTogNDAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWl0dGVyMC5leHBsb2RlKDEwMCwgdGhpcy5kZWF0aFNwcml0ZS54LCB0aGlzLmRlYXRoU3ByaXRlLnkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNiKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbixcclxuICAgICAgICAgICAgLy94OiB0aGlzLmRlYXRoU3ByaXRlLngsXHJcbiAgICAgICAgICAgIC8veTogdGhpcy5kZWF0aFNwcml0ZS55LFxyXG4gICAgICAgICAgICB6b29tOiAxLjYsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxyXG4gICAgICAgICAgICBkZWxheTogMjUwLFxyXG4gICAgICAgICAgICBlYXNlOiBcIlF1YWQuZWFzZUluT3V0XCIsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZHlpbmcgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IGluaXQoKTogdm9pZDtcclxuICAgIGFic3RyYWN0IGNvbnRyb2woKTogdm9pZDtcclxufSIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL1BsYXllclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbnRyb2xsZWRQbGF5ZXIgZXh0ZW5kcyBQbGF5ZXIge1xyXG4gICAgbGVmdDogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHJpZ2h0OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgdXA6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBkb3duOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG5cclxuICAgIGluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gdGhpcy5zY2VuZS5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkEpO1xyXG4gICAgICAgIHRoaXMucmlnaHQgPSB0aGlzLnNjZW5lLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuRCk7XHJcbiAgICAgICAgdGhpcy51cCA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5XKTtcclxuICAgICAgICB0aGlzLmRvd24gPSB0aGlzLnNjZW5lLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuUyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29udHJvbCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5sZWZ0LmlzRG93bikgdGhpcy5tb3ZlKC0xKTtcclxuICAgICAgICBlbHNlIGlmICh0aGlzLnJpZ2h0LmlzRG93bikgdGhpcy5tb3ZlKDEpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLnVwLmlzRG93bikgdGhpcy5qdW1wKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuZG93bi5pc0Rvd24pIHRoaXMubW92ZURvd24oKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL1BsYXllclwiO1xyXG5pbXBvcnQgaGVscGVycyBmcm9tIFwiLi4vaGVscGVyc1wiO1xyXG5cclxuZW51bSBBSVN0YXRlcyB7XHJcbiAgICBTbGVlcCA9IDAsXHJcbiAgICBCYWxsQ2hhc2UgPSAxLFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQUlQbGF5ZXIgZXh0ZW5kcyBQbGF5ZXIge1xyXG4gICAgbGVmdDogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHJpZ2h0OiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgdXA6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICBzdGF0ZTogQUlTdGF0ZXM7XHJcbiAgICBjaGFuZ2VUaW1lb3V0OiBudW1iZXI7XHJcbiAgICBsYXN0U3RhdGVDaGFuZ2VUOiBudW1iZXI7XHJcblxyXG4gICAgaW5pdCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldFRleHR1cmUoXCJicGxheWVyXCIpO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheU9yaWdpblggPSAxMztcclxuICAgICAgICB0aGlzLmxlZnQgPSB0aGlzLnNjZW5lLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuQSk7XHJcbiAgICAgICAgdGhpcy5yaWdodCA9IHRoaXMuc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5EKTtcclxuICAgICAgICB0aGlzLnVwID0gdGhpcy5zY2VuZS5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLlcpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBBSVN0YXRlcy5TbGVlcDtcclxuICAgIH1cclxuXHJcbiAgICBjb250cm9sKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG4gICAgICAgIGNvbnN0IGR0ID0gdCAtIHRoaXMubGFzdFN0YXRlQ2hhbmdlVDtcclxuICAgICAgICBjb25zdCBiYWxsRHggPSB0aGlzLmJhbGwueCAtIHRoaXMueDtcclxuICAgICAgICBjb25zdCBiYWxsRHkgPSB0aGlzLmJhbGwueSAtIHRoaXMueTtcclxuICAgICAgICBjb25zdCBiYWxsVGhldGEgPSBNYXRoLmF0YW4yKGJhbGxEeSwgYmFsbER4KTtcclxuICAgICAgICBjb25zdCBiYWxsRGlzdFRvTXlHb2FsID0gaGVscGVycy5kaXN0KHRoaXMuYmFsbCwgdGhpcy5teUdvYWwpO1xyXG4gICAgICAgIGNvbnN0IGJhbGxEaXN0VG9UYXJnZXRHb2FsID0gaGVscGVycy5kaXN0KHRoaXMuYmFsbCwgdGhpcy50YXJnZXRHb2FsKTtcclxuXHJcbiAgICAgICAgY29uc3QgdGFyZ2V0R29hbER4ID0gdGhpcy5iYWxsLnggLSB0aGlzLnRhcmdldEdvYWwueDtcclxuXHJcbiAgICAgICAgc3dpdGNoKHRoaXMuc3RhdGUpIHtcclxuICAgICAgICAgICAgY2FzZSBBSVN0YXRlcy5TbGVlcDpcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGFuZ2VUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlVGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBBSVN0YXRlcy5CYWxsQ2hhc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMTUwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBBSVN0YXRlcy5CYWxsQ2hhc2U6XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0R29hbER4IDwgMCAmJiBiYWxsRHggPCAwKSAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZSgtMSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldEdvYWxEeCA+IDAgJiYgYmFsbER4ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZSgxKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhbGxEeCA8IDApIHRoaXMubW92ZSgtMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0aGlzLm1vdmUoMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGJhbGxEeSA8IC0xMCkgdGhpcy5qdW1wKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGR0ID4gMTUwMCkgdGhpcy5zd2l0Y2hTdGF0ZShBSVN0YXRlcy5TbGVlcCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3dpdGNoU3RhdGUobmV3U3RhdGU6IEFJU3RhdGVzKSB7XHJcbiAgICAgICAgdGhpcy5sYXN0U3RhdGVDaGFuZ2VUID0gdGhpcy5zY2VuZS50aW1lLm5vdztcclxuICAgICAgICB0aGlzLnN0YXRlID0gbmV3U3RhdGU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgaGVscGVycyBmcm9tIFwiLi4vaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBNYWluU2NlbmUgfSBmcm9tIFwiLi4vc2NlbmVzL01haW5TY2VuZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdvYWwgZXh0ZW5kcyBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyIHtcclxuICAgIHNwZWVkOiBudW1iZXI7XHJcbiAgICBhY2NlbnQ6IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGU7XHJcbiAgICBzcHJpdGU6IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGU7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IE1haW5TY2VuZSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHB1YmxpYyBjb2xvcjogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmUsIHgsIHkpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSA8UGhhc2VyLlNjZW5lPnNjZW5lO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5hZGQuc3ByaXRlKDAsIDAsIGAke2NvbG9yfWdvYWxgKTtcclxuICAgICAgICB0aGlzLmFkZCh0aGlzLnNwcml0ZSk7XHJcbiAgICAgICAgLy90aGlzLmFjY2VudCA9IHRoaXMuc2NlbmUuYWRkLnNwcml0ZSgwLCAwLCBgJHtjb2xvcn1nb2FsX2FjY2VudGApO1xyXG4gICAgICAgIC8vdGhpcy5hZGQodGhpcy5hY2NlbnQpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkLmV4aXN0aW5nKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBzdXBlci51cGRhdGUoKTtcclxuICAgICAgICAvL3RoaXMuYWNjZW50LmFuZ2xlICs9IDEuNTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5hbmdsZSArPSAtMjtcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICBjb25zdCB0ID0gdGhpcy5zY2VuZS50aW1lLm5vdztcclxuICAgICAgICBjb25zdCBzID0gMSArIE1hdGguc2luKHQqMC4wMDUpKjAuMTU7XHJcbiAgICAgICAgdGhpcy5zY2FsZVggPSBzO1xyXG4gICAgICAgIHRoaXMuc2NhbGVZID0gcztcclxuICAgICAgICAqL1xyXG4gICAgfVxyXG5cclxuICAgIGV4cGxvZGUoKSB7XHJcbiAgICAgICAgY29uc3QgZXhwbFNwcml0ZSA9IHRoaXMuc2NlbmUuYWRkLnNwcml0ZSh0aGlzLngsIHRoaXMueSwgYCR7dGhpcy5jb2xvcn1nb2FsZXhwbGApO1xyXG4gICAgICAgIGV4cGxTcHJpdGUuYW5nbGUgPSBNYXRoLnJhbmRvbSgpKjM2MDtcclxuICAgICAgICBleHBsU3ByaXRlLnNldFNjYWxlKDIsIDIpO1xyXG4gICAgICAgIGV4cGxTcHJpdGUuYW5pbXMucGxheShgJHt0aGlzLmNvbG9yfWdvYWxleHBsYCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgaGVscGVycyBmcm9tIFwiLi4vaGVscGVyc1wiO1xyXG5pbXBvcnQgeyBNYWluU2NlbmUgfSBmcm9tIFwiLi4vc2NlbmVzL01haW5TY2VuZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJhbGwgZXh0ZW5kcyBQaGFzZXIuUGh5c2ljcy5NYXR0ZXIuU3ByaXRlIHtcclxuICAgIHRyYWlsUG9pbnRzOiBudW1iZXJbXVtdID0gW107XHJcbiAgICB0cmFpbEdmeDogUGhhc2VyLkdhbWVPYmplY3RzLkdyYXBoaWNzO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBNYWluU2NlbmUsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmUubWF0dGVyLndvcmxkLCB4LCB5LCBcImJhbGxcIiwgMCk7XHJcbiAgICAgICAgdGhpcy50cmFpbEdmeCA9IHRoaXMuc2NlbmUuYWRkLmdyYXBoaWNzKHtcclxuICAgICAgICAgICAgbGluZVN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMixcclxuICAgICAgICAgICAgICAgIGFscGhhOiAwLjI1LFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IDB4RkZGRkZGXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNjZW5lID0gPFBoYXNlci5TY2VuZT5zY2VuZTtcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZC5leGlzdGluZyh0aGlzKTtcclxuICAgICAgICB0aGlzLnNldEJvZHkoe1xyXG4gICAgICAgICAgICB0eXBlOiBcImNpcmNsZVwiLFxyXG4gICAgICAgICAgICByYWRpdXM6IDhcclxuICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgdGhpcy5zZXRCb3VuY2UoMSk7XHJcbiAgICAgICAgdGhpcy5zZXRGcmljdGlvbkFpcigwKTtcclxuICAgICAgICB0aGlzLnNldEZyaWN0aW9uU3RhdGljKDApO1xyXG4gICAgICAgICg8YW55PnRoaXMpLmJvZHkubWFzcyA9IDAuMDE7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlVXBkYXRlKHQ6IG51bWJlciwgZGVsdGE6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyLnByZVVwZGF0ZSh0LCBkZWx0YSlcclxuXHJcbiAgICAgICAgdGhpcy50cmFpbFBvaW50cy5wdXNoKFsgdGhpcy54LCB0aGlzLnkgXSk7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMudHJhaWxQb2ludHMubGVuZ3RoID4gMjApIHRoaXMudHJhaWxQb2ludHMuc2hpZnQoKTtcclxuXHJcbiAgICAgICAgY29uc3QgZmlyc3RQb2ludCA9IHRoaXMudHJhaWxQb2ludHNbMF07XHJcblxyXG4gICAgICAgIHRoaXMudHJhaWxHZnguY2xlYXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy50cmFpbEdmeC5iZWdpblBhdGgoKTtcclxuICAgICAgICB0aGlzLnRyYWlsR2Z4LmxpbmVTdHlsZSg1LCAweEZGRkZGRiwgMC4yKTtcclxuICAgICAgICB0aGlzLnRyYWlsR2Z4Lm1vdmVUbyhmaXJzdFBvaW50WzBdLCBmaXJzdFBvaW50WzFdKTtcclxuICAgICAgICBmb3IobGV0IGkgPSAxOyBpIDwgdGhpcy50cmFpbFBvaW50cy5sZW5ndGg7IGkrKykgeyBjb25zdCBwID0gdGhpcy50cmFpbFBvaW50c1tpXTsgdGhpcy50cmFpbEdmeC5saW5lVG8ocFswXSwgcFsxXSk7IFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRyYWlsR2Z4LnN0cm9rZVBhdGgoKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuLi9lbnRpdGllcy9QbGF5ZXJcIjtcclxuaW1wb3J0IGhlbHBlcnMgZnJvbSBcIi4uL2hlbHBlcnNcIjtcclxuaW1wb3J0IHsgQ2xvdWQgfSBmcm9tIFwiLi4vZW50aXRpZXMvQ2xvdWRcIjtcclxuaW1wb3J0IHsgQ29udHJvbGxlZFBsYXllciB9IGZyb20gXCIuLi9lbnRpdGllcy9Db250cm9sbGVkUGxheWVyXCI7XHJcbmltcG9ydCB7IEFJUGxheWVyIH0gZnJvbSBcIi4uL2VudGl0aWVzL0FJUGxheWVyXCI7XHJcbmltcG9ydCB7IEdvYWwgfSBmcm9tIFwiLi4vZW50aXRpZXMvR29hbFwiO1xyXG5pbXBvcnQgeyBCYWxsIH0gZnJvbSBcIi4uL2VudGl0aWVzL0JhbGxcIjtcclxuXHJcbmNvbnN0IERFQlVHID0gZmFsc2U7XHJcbmNvbnN0IFNDT1JFX0RJU1QgPSAxNztcclxuXHJcbmVudW0gR2FtZVN0YXRlcyB7XHJcbiAgICBQbGF5aW5nID0gMSxcclxuICAgIEVuZGVkID0gMlxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTWFpblNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNsb3VkczogQ2xvdWRbXVxyXG4gICAgckdvYWw6IEdvYWw7XHJcbiAgICBiR29hbDogR29hbDtcclxuICAgIHJQbGF5ZXI6IFBsYXllcjtcclxuICAgIGJQbGF5ZXI6IFBsYXllcjtcclxuICAgIHN0YXRlOiBHYW1lU3RhdGVzID0gR2FtZVN0YXRlcy5QbGF5aW5nO1xyXG4gICAgZGVidWdUZXh0OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcclxuXHJcbiAgICBzdGF0aWMgclNjb3JlOiBudW1iZXIgPSAwO1xyXG4gICAgc3RhdGljIGJTY29yZTogbnVtYmVyID0gMDtcclxuICAgIGJhbGw6IEJhbGw7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoe1xyXG4gICAgICAgICAgICBrZXk6IFwiTWFpblNjZW5lXCJcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZShcImJhbGxcIiwgXCIvYXNzZXRzL2V4cG9ydC1iYWxsLnBuZ1wiKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoXCJiZWFtXCIsIFwiL2Fzc2V0cy9leHBvcnQtYmVhbS5wbmdcIik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKFwiYmdcIiwgXCIvYXNzZXRzL2V4cG9ydC1iZy5wbmdcIik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKFwiYmdvYWxcIiwgXCIvYXNzZXRzL2V4cG9ydC1iZ29hbC5wbmdcIik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKFwiYmdvYWxfYWNjZW50XCIsIFwiL2Fzc2V0cy9leHBvcnQtYmdvYWxfYWNjZW50LnBuZ1wiKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoXCJicGxheWVyXCIsIFwiL2Fzc2V0cy9leHBvcnQtYnBsYXllci5wbmdcIik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKFwiY2xvdWQxXCIsIFwiL2Fzc2V0cy9leHBvcnQtY2xvdWQxLnBuZ1wiKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoXCJjbG91ZDJcIiwgXCIvYXNzZXRzL2V4cG9ydC1jbG91ZDIucG5nXCIpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZShcImdyb3VuZFwiLCBcIi9hc3NldHMvZXhwb3J0LWdyb3VuZC5wbmdcIik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKFwiTGF5ZXJcIiwgXCIvYXNzZXRzL2V4cG9ydC1MYXllclwiKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoXCJsc2lkZVwiLCBcIi9hc3NldHMvZXhwb3J0LWxzaWRlLnBuZ1wiKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoXCJtMVwiLCBcIi9hc3NldHMvZXhwb3J0LW0xLnBuZ1wiKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoXCJtMlwiLCBcIi9hc3NldHMvZXhwb3J0LW0yLnBuZ1wiKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoXCJwYXJ0aWNsZVwiLCBcIi9hc3NldHMvZXhwb3J0LXBhcnRpY2xlLnBuZ1wiKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoXCJyZ29hbFwiLCBcIi9hc3NldHMvZXhwb3J0LXJnb2FsLnBuZ1wiKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoXCJyZ29hbF9hY2NlbnRcIiwgXCIvYXNzZXRzL2V4cG9ydC1yZ29hbF9hY2NlbnQucG5nXCIpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZShcInJnb2FsXCIsIFwiL2Fzc2V0cy9leHBvcnQtcmdvYWwtZXhwbC5wbmdcIik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKFwicnBsYXllclwiLCBcIi9hc3NldHMvZXhwb3J0LXJwbGF5ZXIucG5nXCIpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZShcInJzaWRlXCIsIFwiL2Fzc2V0cy9leHBvcnQtcnNpZGUucG5nXCIpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZShcInN1blwiLCBcIi9hc3NldHMvZXhwb3J0LXN1bi5wbmdcIik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKFwidWlcIiwgXCIvYXNzZXRzL2V4cG9ydC11aS5wbmdcIik7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcImJnb2FsZXhwbFwiLCBcIi9hc3NldHMvZXhwb3J0LWJnb2FsZXhwbC5wbmdcIiwge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiA3MCxcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDcwLFxyXG4gICAgICAgICAgICBzdGFydEZyYW1lOiAwLFxyXG4gICAgICAgICAgICBlbmRGcmFtZTogOCxcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcInJnb2FsZXhwbFwiLCBcIi9hc3NldHMvZXhwb3J0LXJnb2FsZXhwbC5wbmdcIiwge1xyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiA3MCxcclxuICAgICAgICAgICAgZnJhbWVIZWlnaHQ6IDcwLFxyXG4gICAgICAgICAgICBzdGFydEZyYW1lOiAwLFxyXG4gICAgICAgICAgICBlbmRGcmFtZTogOCxcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogXCJiZ29hbGV4cGxcIixcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAwLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoXCJiZ29hbGV4cGxcIiwgeyBzdGFydDogMCwgZW5kOiA4IH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiBcInJnb2FsZXhwbFwiLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE1LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDAsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycyhcInJnb2FsZXhwbFwiLCB7IHN0YXJ0OiAwLCBlbmQ6IDggfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IEdhbWVTdGF0ZXMuUGxheWluZztcclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLnNwcml0ZSgwLCAwLCBcImJnXCIpLnNldE9yaWdpbigwLCAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5jbG91ZHMgPSBbXTtcclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgMTQ7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3Vkcy5wdXNoKG5ldyBDbG91ZCh0aGlzLCAtMTAwICsgKE1hdGgucmFuZG9tKCkqNDUwKSwgLTEwICsgTWF0aC5yYW5kb20oKSozMCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbHNpZGUgPSB0aGlzLmFkZC5zcHJpdGUoMCwgPG51bWJlcj50aGlzLmdhbWUuY29uZmlnLmhlaWdodCwgXCJsc2lkZVwiKS5zZXRPcmlnaW4oMCwgMSk7XHJcbiAgICAgICAgY29uc3QgcnNpZGUgPSB0aGlzLmFkZC5zcHJpdGUoPG51bWJlcj50aGlzLmdhbWUuY29uZmlnLndpZHRoLCA8bnVtYmVyPnRoaXMuZ2FtZS5jb25maWcuaGVpZ2h0LCBcInJzaWRlXCIpLnNldE9yaWdpbigxLCAxKTtcclxuICAgICAgICBjb25zdCBncm91bmQgPSB0aGlzLmFkZC5zcHJpdGUoMCwgPG51bWJlcj50aGlzLmdhbWUuY29uZmlnLmhlaWdodCwgXCJncm91bmRcIikuc2V0T3JpZ2luKDAsIDEpO1xyXG5cclxuICAgICAgICBjb25zdCBwR3JvdW5kID0gdGhpcy5tYXR0ZXIuYWRkLnJlY3RhbmdsZSgwLCAyODAsIDEwMDAsIDEwMCwgeyBpc1N0YXRpYzogdHJ1ZSB9KTtcclxuICAgICAgICBjb25zdCBwTHNpZGUgPSB0aGlzLm1hdHRlci5hZGQucmVjdGFuZ2xlKDAsIDIzNiwgMTEwLCAxMDAsIHsgaXNTdGF0aWM6IHRydWUsIGFuZ2xlOiAwLjggfSk7XHJcbiAgICAgICAgY29uc3QgcFJzaWRlID0gdGhpcy5tYXR0ZXIuYWRkLnJlY3RhbmdsZSg0ODEsIDIzNiwgMTEwLCAxMDAsIHsgaXNTdGF0aWM6IHRydWUsIGFuZ2xlOiAtMC44IH0pO1xyXG5cclxuICAgICAgICB0aGlzLm1hdHRlci53b3JsZC5zZXRCb3VuZHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5iYWxsID0gbmV3IEJhbGwodGhpcywgPG51bWJlcj50aGlzLmdhbWUuY29uZmlnLndpZHRoLzIsIDEwMCk7XHJcblxyXG4gICAgICAgIHRoaXMuckdvYWwgPSBuZXcgR29hbCh0aGlzLCA1MSwgMTMxLCBcInJcIik7XHJcbiAgICAgICAgdGhpcy5iR29hbCA9IG5ldyBHb2FsKHRoaXMsIDxudW1iZXI+dGhpcy5nYW1lLmNvbmZpZy53aWR0aCAtIDUwLCAxMzEsIFwiYlwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5yUGxheWVyID0gbmV3IENvbnRyb2xsZWRQbGF5ZXIodGhpcywgMTAwLCAxMDAsIHRoaXMuYmFsbCwgdGhpcy5yR29hbCwgdGhpcy5iR29hbCk7XHJcbiAgICAgICAgdGhpcy5iUGxheWVyID0gbmV3IEFJUGxheWVyKHRoaXMsIDM4MCwgMTAwLCB0aGlzLmJhbGwsIHRoaXMuYkdvYWwsIHRoaXMuckdvYWwpO1xyXG5cclxuICAgICAgICBpZiAoREVCVUcpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z1RleHQgPSB0aGlzLmFkZC50ZXh0KDEwMCwgMTAwLCBcIjEwMFwiLCB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogMjBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB1aUJnID0gdGhpcy5hZGQuc3ByaXRlKDAsIDAsIFwidWlcIikuc2V0T3JpZ2luKDAsIDApO1xyXG5cclxuICAgICAgICBjb25zdCBsU2NvcmVUZXh0ID0gdGhpcy5hZGQudGV4dCg0MywgMjQwLCBNYWluU2NlbmUuclNjb3JlLnRvU3RyaW5nKCksIHtcclxuICAgICAgICAgICAgZm9udFNpemU6IDE4LFxyXG4gICAgICAgICAgICBhbGlnbjogXCJjZW50ZXJcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCByU2NvcmVUZXh0ID0gdGhpcy5hZGQudGV4dCg8bnVtYmVyPnRoaXMuZ2FtZS5jb25maWcud2lkdGggLSA1MywgMjQwLCBNYWluU2NlbmUuclNjb3JlLnRvU3RyaW5nKCksIHtcclxuICAgICAgICAgICAgZm9udFNpemU6IDE4LFxyXG4gICAgICAgICAgICBhbGlnbjogXCJjZW50ZXJcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnJQbGF5ZXIuY2FuTW92ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYlBsYXllci5jYW5Nb3ZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yUGxheWVyLnNldFN0YXRpYyh0cnVlKTtcclxuICAgICAgICB0aGlzLmJQbGF5ZXIuc2V0U3RhdGljKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYmFsbC5zZXRTdGF0aWModHJ1ZSk7XHJcbiAgICAgICAgaGVscGVycy5mYWRlSW4odGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJQbGF5ZXIuY2FuTW92ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuYlBsYXllci5jYW5Nb3ZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5yUGxheWVyLnNldFN0YXRpYyhmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYlBsYXllci5zZXRTdGF0aWMoZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLmJhbGwuc2V0U3RhdGljKGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy90aGlzLmdvYWwoXCJyXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICB0aGlzLnJHb2FsLnVwZGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuYkdvYWwudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJHb2FsRGlzdCA9IGhlbHBlcnMuZGlzdCh0aGlzLmJHb2FsLCB0aGlzLmJhbGwpO1xyXG5cclxuICAgICAgICBpZiAoREVCVUcpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWJ1Z1RleHQudGV4dCA9IGJHb2FsRGlzdC50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGhlbHBlcnMuZGlzdCh0aGlzLnJHb2FsLCB0aGlzLmJhbGwpIDwgU0NPUkVfRElTVCkgdGhpcy5nb2FsKFwiclwiKTtcclxuICAgICAgICBpZiAoYkdvYWxEaXN0IDwgU0NPUkVfRElTVCkgdGhpcy5nb2FsKFwiYlwiKTtcclxuICAgIH1cclxuXHJcbiAgICBnb2FsKHNpZGU6IHN0cmluZykge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IEdhbWVTdGF0ZXMuRW5kZWQpIHJldHVybjtcclxuICAgICAgICB0aGlzLnN0YXRlID0gR2FtZVN0YXRlcy5FbmRlZDtcclxuXHJcbiAgICAgICAgY29uc3QgZGVhZFBsYXllciA9IHNpZGUgPT0gXCJyXCIgPyB0aGlzLnJQbGF5ZXIgOiB0aGlzLmJQbGF5ZXI7XHJcbiAgICAgICAgY29uc3Qgc2NvcmluZ1BsYXllciA9IHNpZGUgPT0gXCJyXCIgPyB0aGlzLmJQbGF5ZXIgOiB0aGlzLnJQbGF5ZXI7XHJcblxyXG4gICAgICAgIGlmIChzaWRlID09IFwiclwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuckdvYWwuZXhwbG9kZSgpO1xyXG4gICAgICAgICAgICBNYWluU2NlbmUuYlNjb3JlKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaWRlID09IFwiYlwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYkdvYWwuZXhwbG9kZSgpO1xyXG4gICAgICAgICAgICBNYWluU2NlbmUuclNjb3JlKys7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkZWFkUGxheWVyLmNhbk1vdmUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2hha2UoMzAwLCAwLjAzKTtcclxuICAgICAgICBkZWFkUGxheWVyLmRpZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGhlbHBlcnMuZmFkZU91dCh0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KFwiTWFpblNjZW5lXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBTY2FsZU1hbmFnZXIgZnJvbSBcIi4vc2NhbGVNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IE1haW5TY2VuZSB9IGZyb20gXCIuL3NjZW5lcy9NYWluU2NlbmVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMRDQzIHtcclxuICAgIHByaXZhdGUgX2dhbWU6IFBoYXNlci5HYW1lO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuX2dhbWUgPSBuZXcgUGhhc2VyLkdhbWUoe1xyXG4gICAgICAgICAgICB3aWR0aDogNDgwLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IDI3MCxcclxuICAgICAgICAgICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICAgICAgICAgIHpvb206IDEsXHJcbiAgICAgICAgICAgIHJlbmRlcjoge1xyXG4gICAgICAgICAgICAgICAgcGl4ZWxBcnQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBhbnRpYWxpYXM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcm91bmRQaXhlbHM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB0cmFuc3BhcmVudDogZmFsc2UsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNjZW5lOiBNYWluU2NlbmUsXHJcbiAgICAgICAgICAgIHBoeXNpY3M6IHtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwibWF0dGVyXCIsXHJcbiAgICAgICAgICAgICAgICBtYXR0ZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICBncmF2aXR5OiB7IHg6IDAsIHk6IDAuNjUgfSxcclxuICAgICAgICAgICAgICAgICAgICAvL2RlYnVnOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xyXG4gICAgICAgICAgICAgICAgcG9zdEJvb3Q6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgU2NhbGVNYW5hZ2VyKHRoaXMuX2dhbWUuY2FudmFzLCAhdGhpcy5fZ2FtZS5kZXZpY2Uub3MuZGVza3RvcCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7TEQ0M30gZnJvbSBcIi4vTEQ0M1wiO1xyXG5cclxuY29uc3QgZyA9IG5ldyBMRDQzKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n')}]);