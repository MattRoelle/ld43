!function(Q){var U={};function F(B){if(U[B])return U[B].exports;var s=U[B]={i:B,l:!1,exports:{}};return Q[B].call(s.exports,s,s.exports,F),s.l=!0,s.exports}F.m=Q,F.c=U,F.d=function(Q,U,B){F.o(Q,U)||Object.defineProperty(Q,U,{enumerable:!0,get:B})},F.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},F.t=function(Q,U){if(1&U&&(Q=F(Q)),8&U)return Q;if(4&U&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var B=Object.create(null);if(F.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:Q}),2&U&&"string"!=typeof Q)for(var s in Q)F.d(B,s,function(U){return Q[U]}.bind(null,s));return B},F.n=function(Q){var U=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return F.d(U,"a",U),U},F.o=function(Q,U){return Object.prototype.hasOwnProperty.call(Q,U)},F.p="",F(F.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/scaleManager.js\nclass ScaleManager {\r\n    constructor(canvas, isMobile) {\r\n        this.canvas = canvas;\r\n        this.mobile = isMobile;\r\n\r\n        window.addEventListener(\'resize\', () => {\r\n            this.resize(this.canvas);\r\n\r\n            if (this.mobile) {\r\n                if (window.innerWidth < window.innerHeight) {\r\n                    this.leaveIncorrectOrientation();\r\n                } else {\r\n                    this.enterIncorrectOrientation();\r\n                }\r\n            }\r\n        });\r\n\r\n        this.resize(this.canvas);\r\n    }\r\n\r\n    resize(canvas) {\r\n        let scale = Math.min(window.innerWidth / canvas.width, window.innerHeight / canvas.height);\r\n        let orientation = \'left\';\r\n        let extra = (this.mobile) ? \'margin-left: -50%\': \'\';\r\n        let margin = window.innerWidth / 2 - (canvas.width / 2) * scale;\r\n\r\n        canvas.setAttribute(\'style\', \'-ms-transform-origin: \' + orientation + \' top; -webkit-transform-origin: \' + orientation + \' top;\' +\r\n            \' -moz-transform-origin: \' + orientation + \' top; -o-transform-origin: \' + orientation + \' top; transform-origin: \' + orientation + \' top;\' +\r\n            \' -ms-transform: scale(\' + scale + \'); -webkit-transform: scale3d(\' + scale + \', 1);\' +\r\n            \' -moz-transform: scale(\' + scale + \'); -o-transform: scale(\' + scale + \'); transform: scale(\' + scale + \');\' +\r\n            \' display: block; margin-left: \' + margin + \'px;\'\r\n        );\r\n    }\r\n\r\n    enterIncorrectOrientation() {\r\n        document.getElementById("orientation").style.display = "block";\r\n        document.getElementById("content").style.display = "none";\r\n    }\r\n\r\n    leaveIncorrectOrientation() {\r\n        document.getElementById("orientation").style.display = "none";\r\n        document.getElementById("content").style.display = "block";\r\n    }\r\n}\r\n/* harmony default export */ var scaleManager = (ScaleManager);\n// CONCATENATED MODULE: ./src/helpers.ts\n/* harmony default export */ var helpers = ({\r\n    lerp: function (value1, value2, amount) {\r\n        amount = amount < 0 ? 0 : amount;\r\n        amount = amount > 1 ? 1 : amount;\r\n        return value1 + (value2 - value1) * amount;\r\n    },\r\n    dist: function (g1, g2) {\r\n        return Math.sqrt(Math.pow(g1.y - g2.y, 2) + Math.pow(g1.x - g2.x, 2));\r\n    },\r\n    clamp: function (min, max, v) {\r\n        return Math.min(Math.max(v, min), v);\r\n    }\r\n});\r\n\n// CONCATENATED MODULE: ./src/entities/BattleEntity.ts\nvar BattleStats = /** @class */ (function () {\r\n    function BattleStats() {\r\n        this.hp = 100;\r\n    }\r\n    return BattleStats;\r\n}());\r\n\r\n\n// CONCATENATED MODULE: ./src/entities/Player/overworld.ts\n\r\n/* harmony default export */ var overworld = ({\r\n    preUpdate: function (player) {\r\n        var dx = 0;\r\n        var dy = 0;\r\n        if (!player.info.isCom) {\r\n            if (player.left.isDown)\r\n                dx = -1;\r\n            else if (player.right.isDown)\r\n                dx = 1;\r\n            if (player.up.isDown)\r\n                dy = -1;\r\n            else if (player.down.isDown)\r\n                dy = 1;\r\n        }\r\n        else {\r\n            var distToFollow = player.distToFollow;\r\n            if (!player.followMove && distToFollow > 60) {\r\n                player.followMove = true;\r\n            }\r\n            else if (!player.info.following.flying && player.followMove && distToFollow < 40) {\r\n                player.followMove = false;\r\n            }\r\n            if (player.followMove) {\r\n                dx = player.info.following.container.x - player.container.x;\r\n                dy = player.info.following.container.y - player.container.y;\r\n            }\r\n        }\r\n        this.move(dx, dy);\r\n    },\r\n    move: function (player, dx, dy) {\r\n        dx = helpers.clamp(-1, 1, dx);\r\n        dy = helpers.clamp(-1, 1, dy);\r\n        if (dx == 0 && dy == 0) {\r\n            player.targetAngle = 0;\r\n            player.flying = false;\r\n            return;\r\n        }\r\n        player.flying = true;\r\n        if (dx > 0)\r\n            player.targetAngle = 1;\r\n        else if (dx < 0)\r\n            player.targetAngle = -1;\r\n        else\r\n            player.targetAngle = 0;\r\n        var theta = Math.atan2(dy, dx);\r\n        var f = 3;\r\n        if (player.info.isCom)\r\n            f *= 0.92;\r\n        if (player.info.isCom && player.distToFollow < 30)\r\n            f *= 0.7;\r\n        player.container.x += Math.cos(theta) * f;\r\n        player.container.y += Math.sin(theta) * f;\r\n    }\r\n});\r\n\n// CONCATENATED MODULE: ./src/entities/Player.ts\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar Player_Player = /** @class */ (function (_super) {\r\n    __extends(Player, _super);\r\n    function Player(scene, info) {\r\n        var _this = _super.call(this, scene, 0, 0, info.key) || this;\r\n        _this.info = info;\r\n        _this.stats = new BattleStats();\r\n        scene.anims.create({\r\n            key: "hover_flame",\r\n            frames: scene.anims.generateFrameNumbers("hover_flame", { start: 0, end: 40, }),\r\n            frameRate: 60,\r\n            repeat: -1\r\n        });\r\n        _this.scene = scene;\r\n        _this.shadow = scene.add.sprite(0, 0, "shadow");\r\n        _this.container = scene.add.container(300, 300);\r\n        if (_this.info.key)\r\n            _this.container.depth = 100 - _this.info.partyIdx;\r\n        scene.add.existing(_this);\r\n        _this.boostFlame = scene.add.sprite(0, 0, "hover_flame");\r\n        _this.boostFlame.anims.play("hover_flame");\r\n        _this.container.add([\r\n            _this,\r\n            _this.boostFlame,\r\n        ]);\r\n        if (!_this.info.isCom) {\r\n            _this.up = scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.UP);\r\n            _this.down = scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.DOWN);\r\n            _this.left = scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.LEFT);\r\n            _this.right = scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.RIGHT);\r\n        }\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Player.prototype, "ax", {\r\n        get: function () { return this.container.x; },\r\n        set: function (v) { this.container.x = v; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Player.prototype, "ay", {\r\n        get: function () { return this.container.y; },\r\n        set: function (v) { this.container.y = v; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Player.prototype, "distToFollow", {\r\n        get: function () {\r\n            return helpers.dist(this.container, this.info.following.container);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Player.prototype.preUpdate = function (t, delta) {\r\n        _super.prototype.preUpdate.call(this, t, delta);\r\n        this.shadow.x = this.container.x;\r\n        this.shadow.y = this.container.y;\r\n        this.boostFlame.x = this.x + 2;\r\n        this.boostFlame.y = this.y + 24;\r\n        if (this.stats.inBattle) {\r\n            overworld.preUpdate(this);\r\n        }\r\n        this.container.angle = helpers.lerp(this.container.angle, this.targetAngle * 20, 0.15);\r\n        if (Math.abs(this.container.angle) < 3 && this.targetAngle == 0)\r\n            this.container.angle = 0;\r\n        this.boostFlame.alpha = 0;\r\n        this.y = helpers.lerp(this.y, this.flying ?\r\n            -10 + Math.sin(this.scene.time.now * 0.01) * 5\r\n            :\r\n                0, 0.15);\r\n    };\r\n    return Player;\r\n}(Phaser.GameObjects.Sprite));\r\n\r\n\n// CONCATENATED MODULE: ./src/entities/Enemy.ts\nvar Enemy_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\nvar Enemy_Enemy = /** @class */ (function (_super) {\r\n    Enemy_extends(Enemy, _super);\r\n    function Enemy(scene, x, y, info) {\r\n        var _this = _super.call(this, scene, x, y, info.key) || this;\r\n        _this.info = info;\r\n        _this.stats = new BattleStats();\r\n        _this.scene = scene;\r\n        scene.add.existing(_this);\r\n        _this.depth = 50;\r\n        _this.anims.play(info.key + "_idle");\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Enemy.prototype, "ax", {\r\n        get: function () { return this.x; },\r\n        set: function (v) { this.x = v; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Enemy.prototype, "ay", {\r\n        get: function () { return this.y; },\r\n        set: function (v) { this.y = v; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Enemy.prototype.preUpdate = function (t, delta) {\r\n        _super.prototype.preUpdate.call(this, t, delta);\r\n    };\r\n    return Enemy;\r\n}(Phaser.GameObjects.Sprite));\r\n\r\n\n// CONCATENATED MODULE: ./src/scenes/MainScene.ts\nvar MainScene_extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n\r\nvar MainScene_MainScene = /** @class */ (function (_super) {\r\n    MainScene_extends(MainScene, _super);\r\n    function MainScene() {\r\n        return _super.call(this, {\r\n            key: "MainScene"\r\n        }) || this;\r\n    }\r\n    MainScene.prototype.preload = function () {\r\n        this.load.image("bg", "/assets/bg.png");\r\n        this.load.image("shadow", "/assets/shadow.png");\r\n        this.load.image("octocat1", "/assets/octocat.png");\r\n        this.load.image("octocat2", "/assets/octocat2.png");\r\n        this.load.image("octocat3", "/assets/octocat3.png");\r\n        this.load.spritesheet("hover_flame", "/assets/hover_flame.png", {\r\n            startFrame: 0,\r\n            endFrame: 40,\r\n            frameWidth: 100,\r\n            frameHeight: 100\r\n        });\r\n        this.load.spritesheet("slime1", "/assets/slime1.png", {\r\n            startFrame: 0,\r\n            endFrame: 7,\r\n            frameWidth: 40,\r\n            frameHeight: 40\r\n        });\r\n        this.load.image("tiles", "/assets/tilemap.png");\r\n        this.load.tilemapTiledJSON("level1", "/assets/levels/level1.json");\r\n    };\r\n    MainScene.prototype.create = function () {\r\n        this.anims.create({\r\n            key: "slime1_idle",\r\n            frames: this.anims.generateFrameNumbers("slime1", { start: 0, end: 3 }),\r\n            yoyo: true,\r\n            frameRate: 8,\r\n            repeat: -1\r\n        });\r\n        var map = this.make.tilemap({\r\n            key: "level1",\r\n            tileWidth: 20,\r\n            tileHeight: 20\r\n        });\r\n        var tilesetImg = map.addTilesetImage("tilemap", "tiles");\r\n        for (var i = 0; i < map.layers.length; i++) {\r\n            var layer = map.layers[0];\r\n            map.createStaticLayer(i, tilesetImg, layer.x, layer.y);\r\n        }\r\n        this.cameras.main.setBounds(0, 0, map.widthInPixels, map.heightInPixels);\r\n        this.player = new Player_Player(this, { isCom: false, key: "octocat1", partyIdx: 0 });\r\n        var player2 = new Player_Player(this, { isCom: true, key: "octocat2", following: this.player, partyIdx: 1 });\r\n        var player3 = new Player_Player(this, { isCom: true, key: "octocat3", following: player2, partyIdx: 2 });\r\n        this.party = [this.player, player2, player3];\r\n        this.cameras.main.startFollow(this.player.container);\r\n        var e = new Enemy_Enemy(this, 450, 650, {\r\n            key: "slime1",\r\n        });\r\n        this.enemies = [e];\r\n    };\r\n    MainScene.prototype.update = function () {\r\n        for (var _i = 0, _a = this.enemies; _i < _a.length; _i++) {\r\n            var e = _a[_i];\r\n            if (helpers.dist(this.player.container, e) < 90) {\r\n                console.log("battle start");\r\n            }\r\n        }\r\n    };\r\n    return MainScene;\r\n}(Phaser.Scene));\r\n\r\n\n// CONCATENATED MODULE: ./src/RockRacingGame.ts\n\r\n\r\nvar RockRacingGame_RockRacingGame = /** @class */ (function () {\r\n    function RockRacingGame() {\r\n        var _this = this;\r\n        this._game = new Phaser.Game({\r\n            width: 960,\r\n            height: 540,\r\n            type: Phaser.AUTO,\r\n            zoom: 2,\r\n            render: {\r\n                pixelArt: true,\r\n            },\r\n            scene: MainScene_MainScene,\r\n            physics: {\r\n                default: "matter",\r\n                matter: {\r\n                    debug: true\r\n                }\r\n            },\r\n            callbacks: {\r\n                postBoot: function () {\r\n                    new scaleManager(_this._game.canvas, !_this._game.device.os.desktop);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return RockRacingGame;\r\n}());\r\n\r\n\n// CONCATENATED MODULE: ./src/index.ts\n\r\nvar g = new RockRacingGame_RockRacingGame();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NhbGVNYW5hZ2VyLmpzPzYwNWEiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMudHM/YmMxZSIsIndlYnBhY2s6Ly8vLi9zcmMvZW50aXRpZXMvQmF0dGxlRW50aXR5LnRzPzVjZGUiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VudGl0aWVzL1BsYXllci9vdmVyd29ybGQudHM/MjI4OSIsIndlYnBhY2s6Ly8vLi9zcmMvZW50aXRpZXMvUGxheWVyLnRzPzFjZGUiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VudGl0aWVzL0VuZW15LnRzP2U3YzQiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjZW5lcy9NYWluU2NlbmUudHM/MDRkYiIsIndlYnBhY2s6Ly8vLi9zcmMvUm9ja1JhY2luZ0dhbWUudHM/OWU0NiIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHM/ZmZiNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvRkFBb0YsbURBQW1EO0FBQ3ZJLDZEQUE2RCw4Q0FBOEMsMkNBQTJDO0FBQ3RKLGtEQUFrRCw4Q0FBOEM7QUFDaEcsbURBQW1ELG9DQUFvQyxpQ0FBaUM7QUFDeEgsNkJBQTZCLCtCQUErQjtBQUM1RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRDs7QUM1Q0EsNENBQWU7SUFDWCxJQUFJLEVBQUUsVUFBQyxNQUFjLEVBQUUsTUFBYyxFQUFFLE1BQWM7UUFDakQsTUFBTSxHQUFHLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO1FBQ2pDLE1BQU0sR0FBRyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztRQUNqQyxPQUFPLE1BQU0sR0FBRyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUM7SUFDL0MsQ0FBQztJQUNELElBQUksRUFBRSxVQUFDLEVBQU8sRUFBRSxFQUFPO1FBQ25CLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFFLENBQUM7SUFDRCxLQUFLLEVBQUUsVUFBQyxHQUFXLEVBQUUsR0FBVyxFQUFFLENBQVM7UUFDdkMsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7Q0FDSjs7O0FDWkQ7SUFJSTtRQUNJLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDO0lBQ2xCLENBQUM7SUFDTCxrQkFBQztBQUFELENBQUM7Ozs7QUNObUM7QUFFcEMsOENBQWU7SUFDWCxTQUFTLFlBQUMsTUFBYztRQUNwQixJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDWCxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFFWCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDcEIsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU07Z0JBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO2lCQUMzQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTTtnQkFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ3JDLElBQUksTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNO2dCQUFFLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztpQkFDekIsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU07Z0JBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQztTQUN2QzthQUFNO1lBQ0gsSUFBTSxZQUFZLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQztZQUV6QyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsSUFBSSxZQUFZLEdBQUcsRUFBRSxFQUFFO2dCQUN6QyxNQUFNLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQzthQUM1QjtpQkFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxVQUFVLElBQUksWUFBWSxHQUFHLEVBQUUsRUFBRTtnQkFDaEYsTUFBTSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7YUFDN0I7WUFFRCxJQUFJLE1BQU0sQ0FBQyxVQUFVLEVBQUU7Z0JBQ25CLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO2dCQUM1RCxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQzthQUMvRDtTQUNKO1FBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQUVELElBQUksWUFBQyxNQUFjLEVBQUUsRUFBVSxFQUFFLEVBQVU7UUFDdkMsRUFBRSxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQzlCLEVBQUUsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUU5QixJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRTtZQUNwQixNQUFNLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQztZQUN2QixNQUFNLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUN0QixPQUFPO1NBQ1Y7UUFFRCxNQUFNLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztRQUVyQixJQUFJLEVBQUUsR0FBRyxDQUFDO1lBQUUsTUFBTSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7YUFDOUIsSUFBSSxFQUFFLEdBQUcsQ0FBQztZQUFFLE1BQU0sQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLENBQUM7O1lBQ3BDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO1FBRTVCLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRWpDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNWLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLO1lBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQztRQUNqQyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLE1BQU0sQ0FBQyxZQUFZLEdBQUcsRUFBRTtZQUFFLENBQUMsSUFBSSxHQUFHLENBQUM7UUFHNUQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBQyxDQUFDLENBQUM7UUFDeEMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBQyxDQUFDLENBQUM7SUFDNUMsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7Ozs7O0FDekRnQztBQUMwQjtBQUNoQjtBQVMzQztJQUE0QiwwQkFBeUI7SUFrQmpELGdCQUFZLEtBQW1CLEVBQVMsSUFBZ0I7UUFBeEQsWUFDSSxrQkFBTSxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLFNBaUMvQjtRQWxDdUMsVUFBSSxHQUFKLElBQUksQ0FBWTtRQUZ4RCxXQUFLLEdBQWdCLElBQUksV0FBVyxFQUFFLENBQUM7UUFJbkMsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7WUFDZixHQUFHLEVBQUUsYUFBYTtZQUNsQixNQUFNLEVBQUUsS0FBSyxDQUFDLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxhQUFhLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsQ0FBQztZQUMvRSxTQUFTLEVBQUUsRUFBRTtZQUNiLE1BQU0sRUFBRSxDQUFDLENBQUM7U0FDYixDQUFDLENBQUM7UUFDSCxLQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUVuQixLQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFFL0MsS0FBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFFL0MsSUFBSSxLQUFJLENBQUMsSUFBSSxDQUFDLEdBQUc7WUFFakIsS0FBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBRWhELEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxDQUFDO1FBRXpCLEtBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxhQUFhLENBQUMsQ0FBQztRQUN4RCxLQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFFMUMsS0FBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUM7WUFDZixLQUFJO1lBQ0osS0FBSSxDQUFDLFVBQVU7U0FDbEIsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLEtBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ2xCLEtBQUksQ0FBQyxFQUFFLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN6RSxLQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDN0UsS0FBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzdFLEtBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNsRjs7SUFDTCxDQUFDO0lBeENELHNCQUFJLHNCQUFFO2FBQU4sY0FBbUIsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDN0MsVUFBTyxDQUFTLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7O09BREU7SUFFN0Msc0JBQUksc0JBQUU7YUFBTixjQUFtQixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUM3QyxVQUFPLENBQVMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDOzs7T0FERTtJQXdDN0Msc0JBQUksZ0NBQVk7YUFBaEI7WUFDSSxPQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN2RSxDQUFDOzs7T0FBQTtJQUVELDBCQUFTLEdBQVQsVUFBVSxDQUFTLEVBQUUsS0FBYTtRQUM5QixpQkFBTSxTQUFTLFlBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQztRQUV6QixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUNqQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUVqQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMvQixJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUVoQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO1lBQ3JCLFNBQVMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDN0I7UUFFRCxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxXQUFXLEdBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3JGLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUM7WUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7UUFFMUYsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEdBQUksQ0FBQyxDQUFDO1FBRTNCLElBQUksQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FDakIsSUFBSSxDQUFDLENBQUMsRUFDTixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDVCxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBQyxJQUFJLENBQUMsR0FBQyxDQUFDO1lBQzFDLENBQUM7Z0JBQ0QsQ0FBQyxFQUNULElBQUksQ0FBQyxDQUFDO0lBQ1YsQ0FBQztJQUNMLGFBQUM7QUFBRCxDQUFDLENBcEYyQixNQUFNLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FvRnBEOzs7Ozs7Ozs7Ozs7Ozs7OztBQy9GMEQ7QUFNM0Q7SUFBMkIsNkJBQXlCO0lBT2hELGVBQVksS0FBbUIsRUFBRSxDQUFTLEVBQUUsQ0FBUyxFQUFTLElBQWU7UUFBN0UsWUFDSSxrQkFBTSxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLFNBSy9CO1FBTjZELFVBQUksR0FBSixJQUFJLENBQVc7UUFGN0UsV0FBSyxHQUFnQixJQUFJLFdBQVcsRUFBRSxDQUFDO1FBSW5DLEtBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxDQUFDO1FBQ3pCLEtBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLEtBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsT0FBTyxDQUFDLENBQUM7O0lBQ3hDLENBQUM7SUFaRCxzQkFBSSxxQkFBRTthQUFOLGNBQW1CLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDbkMsVUFBTyxDQUFTLElBQUksSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDOzs7T0FERTtJQUVuQyxzQkFBSSxxQkFBRTthQUFOLGNBQW1CLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDbkMsVUFBTyxDQUFTLElBQUksSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDOzs7T0FERTtJQVluQyx5QkFBUyxHQUFULFVBQVUsQ0FBUyxFQUFFLEtBQWE7UUFDOUIsaUJBQU0sU0FBUyxZQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBQ0wsWUFBQztBQUFELENBQUMsQ0FsQjBCLE1BQU0sQ0FBQyxXQUFXLENBQUMsTUFBTSxHQWtCbkQ7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeEJ5QztBQUNBO0FBRVQ7QUFFakM7SUFBK0IscUNBQVk7SUFLdkM7ZUFDSSxrQkFBTTtZQUNGLEdBQUcsRUFBRSxXQUFXO1NBQ25CLENBQUM7SUFDTixDQUFDO0lBRUQsMkJBQU8sR0FBUDtRQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxvQkFBb0IsQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO1FBQ25ELElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxzQkFBc0IsQ0FBQyxDQUFDO1FBQ3BELElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxzQkFBc0IsQ0FBQyxDQUFDO1FBQ3BELElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBRSx5QkFBeUIsRUFBRTtZQUM1RCxVQUFVLEVBQUUsQ0FBQztZQUNiLFFBQVEsRUFBRSxFQUFFO1lBQ1osVUFBVSxFQUFFLEdBQUc7WUFDZixXQUFXLEVBQUUsR0FBRztTQUNuQixDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsb0JBQW9CLEVBQUU7WUFDbEQsVUFBVSxFQUFFLENBQUM7WUFDYixRQUFRLEVBQUUsQ0FBQztZQUNYLFVBQVUsRUFBRSxFQUFFO1lBQ2QsV0FBVyxFQUFFLEVBQUU7U0FDbEIsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLHFCQUFxQixDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsNEJBQTRCLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBRUQsMEJBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO1lBQ2QsR0FBRyxFQUFFLGFBQWE7WUFDbEIsTUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsb0JBQW9CLENBQUMsUUFBUSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFDLENBQUM7WUFDdEUsSUFBSSxFQUFFLElBQUk7WUFDVixTQUFTLEVBQUUsQ0FBQztZQUNaLE1BQU0sRUFBRSxDQUFDLENBQUM7U0FDYixDQUFDLENBQUM7UUFFSCxJQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUMxQixHQUFHLEVBQUUsUUFBUTtZQUNiLFNBQVMsRUFBRSxFQUFFO1lBQ2IsVUFBVSxFQUFFLEVBQUU7U0FDakIsQ0FBQyxDQUFDO1FBQ0gsSUFBTSxVQUFVLEdBQUcsR0FBRyxDQUFDLGVBQWUsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFFM0QsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3ZDLElBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUIsR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUMsRUFBRSxVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDMUQ7UUFFRCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUV6RSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksYUFBTSxDQUFDLElBQUksRUFBRSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMvRSxJQUFNLE9BQU8sR0FBRyxJQUFJLGFBQU0sQ0FBQyxJQUFJLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxVQUFVLEVBQUUsU0FBUyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLENBQUMsRUFBQyxDQUFDLENBQUM7UUFDdkcsSUFBTSxPQUFPLEdBQUcsSUFBSSxhQUFNLENBQUMsSUFBSSxFQUFFLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFcEcsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBRSxDQUFDO1FBRS9DLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRXJELElBQU0sQ0FBQyxHQUFHLElBQUksV0FBSyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFO1lBQ2hDLEdBQUcsRUFBRSxRQUFRO1NBQ2hCLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2QixDQUFDO0lBRUQsMEJBQU0sR0FBTjtRQUNJLEtBQWEsVUFBWSxFQUFaLFNBQUksQ0FBQyxPQUFPLEVBQVosY0FBWSxFQUFaLElBQVksRUFBRTtZQUF2QixJQUFJLENBQUM7WUFDTCxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO2dCQUM3QyxPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxDQUFDO2FBQy9CO1NBQ0o7SUFDTCxDQUFDO0lBQ0wsZ0JBQUM7QUFBRCxDQUFDLENBL0U4QixNQUFNLENBQUMsS0FBSyxHQStFMUM7Ozs7QUNwRnlDO0FBQ0s7QUFFL0M7SUFHSTtRQUFBLGlCQXNCQztRQXJCRyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQztZQUN6QixLQUFLLEVBQUUsR0FBRztZQUNWLE1BQU0sRUFBRSxHQUFHO1lBQ1gsSUFBSSxFQUFFLE1BQU0sQ0FBQyxJQUFJO1lBQ2pCLElBQUksRUFBRSxDQUFDO1lBQ1AsTUFBTSxFQUFFO2dCQUNKLFFBQVEsRUFBRSxJQUFJO2FBQ2pCO1lBQ0QsS0FBSyxFQUFFLG1CQUFTO1lBQ2hCLE9BQU8sRUFBRTtnQkFDTCxPQUFPLEVBQUUsUUFBUTtnQkFDakIsTUFBTSxFQUFFO29CQUNKLEtBQUssRUFBRSxJQUFJO2lCQUNkO2FBQ0o7WUFDRCxTQUFTLEVBQUU7Z0JBQ1AsUUFBUSxFQUFFO29CQUNOLElBQUksWUFBWSxDQUFDLEtBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUN2RSxDQUFDO2FBQ0o7U0FDSixDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0wscUJBQUM7QUFBRCxDQUFDOzs7O0FDN0IrQztBQUVoRCxJQUFNLENBQUMsR0FBRyxJQUFJLDZCQUFjLEVBQUUsQ0FBQyIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgU2NhbGVNYW5hZ2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKGNhbnZhcywgaXNNb2JpbGUpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLm1vYmlsZSA9IGlzTW9iaWxlO1xyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZSh0aGlzLmNhbnZhcyk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5tb2JpbGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IHdpbmRvdy5pbm5lckhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGVhdmVJbmNvcnJlY3RPcmllbnRhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVudGVySW5jb3JyZWN0T3JpZW50YXRpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnJlc2l6ZSh0aGlzLmNhbnZhcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzaXplKGNhbnZhcykge1xyXG4gICAgICAgIGxldCBzY2FsZSA9IE1hdGgubWluKHdpbmRvdy5pbm5lcldpZHRoIC8gY2FudmFzLndpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQgLyBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICBsZXQgb3JpZW50YXRpb24gPSAnbGVmdCc7XHJcbiAgICAgICAgbGV0IGV4dHJhID0gKHRoaXMubW9iaWxlKSA/ICdtYXJnaW4tbGVmdDogLTUwJSc6ICcnO1xyXG4gICAgICAgIGxldCBtYXJnaW4gPSB3aW5kb3cuaW5uZXJXaWR0aCAvIDIgLSAoY2FudmFzLndpZHRoIC8gMikgKiBzY2FsZTtcclxuXHJcbiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnLW1zLXRyYW5zZm9ybS1vcmlnaW46ICcgKyBvcmllbnRhdGlvbiArICcgdG9wOyAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46ICcgKyBvcmllbnRhdGlvbiArICcgdG9wOycgK1xyXG4gICAgICAgICAgICAnIC1tb3otdHJhbnNmb3JtLW9yaWdpbjogJyArIG9yaWVudGF0aW9uICsgJyB0b3A7IC1vLXRyYW5zZm9ybS1vcmlnaW46ICcgKyBvcmllbnRhdGlvbiArICcgdG9wOyB0cmFuc2Zvcm0tb3JpZ2luOiAnICsgb3JpZW50YXRpb24gKyAnIHRvcDsnICtcclxuICAgICAgICAgICAgJyAtbXMtdHJhbnNmb3JtOiBzY2FsZSgnICsgc2NhbGUgKyAnKTsgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM2QoJyArIHNjYWxlICsgJywgMSk7JyArXHJcbiAgICAgICAgICAgICcgLW1vei10cmFuc2Zvcm06IHNjYWxlKCcgKyBzY2FsZSArICcpOyAtby10cmFuc2Zvcm06IHNjYWxlKCcgKyBzY2FsZSArICcpOyB0cmFuc2Zvcm06IHNjYWxlKCcgKyBzY2FsZSArICcpOycgK1xyXG4gICAgICAgICAgICAnIGRpc3BsYXk6IGJsb2NrOyBtYXJnaW4tbGVmdDogJyArIG1hcmdpbiArICdweDsnXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBlbnRlckluY29ycmVjdE9yaWVudGF0aW9uKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib3JpZW50YXRpb25cIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIGxlYXZlSW5jb3JyZWN0T3JpZW50YXRpb24oKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvcmllbnRhdGlvblwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250ZW50XCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgU2NhbGVNYW5hZ2VyOyIsImV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGxlcnA6ICh2YWx1ZTE6IG51bWJlciwgdmFsdWUyOiBudW1iZXIsIGFtb3VudDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgYW1vdW50ID0gYW1vdW50IDwgMCA/IDAgOiBhbW91bnQ7XHJcbiAgICAgICAgYW1vdW50ID0gYW1vdW50ID4gMSA/IDEgOiBhbW91bnQ7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlMSArICh2YWx1ZTIgLSB2YWx1ZTEpICogYW1vdW50O1xyXG4gICAgfSxcclxuICAgIGRpc3Q6IChnMTogYW55LCBnMjogYW55KTogbnVtYmVyID0+IHtcclxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGcxLnkgLSBnMi55LCAyKSArIE1hdGgucG93KGcxLnggLSBnMi54LCAyKSk7XHJcbiAgICB9LFxyXG4gICAgY2xhbXA6IChtaW46IG51bWJlciwgbWF4OiBudW1iZXIsIHY6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHYsIG1pbiksIHYpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIEJhdHRsZVN0YXRzIHtcclxuICAgIGhwOiBudW1iZXI7XHJcbiAgICBpbkJhdHRsZTogZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5ocCA9IDEwMDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBCYXR0bGVFbnRpdHkge1xyXG4gICAgYXg6IG51bWJlcjtcclxuICAgIGF5OiBudW1iZXI7XHJcbiAgICBzdGF0czogQmF0dGxlU3RhdHM7XHJcbn0iLCJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi4vUGxheWVyXCI7XHJcbmltcG9ydCBoZWxwZXJzIGZyb20gXCIuLi8uLi9oZWxwZXJzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBwcmVVcGRhdGUocGxheWVyOiBQbGF5ZXIpIHtcclxuICAgICAgICBsZXQgZHggPSAwO1xyXG4gICAgICAgIGxldCBkeSA9IDA7XHJcblxyXG4gICAgICAgIGlmICghcGxheWVyLmluZm8uaXNDb20pIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5sZWZ0LmlzRG93bikgZHggPSAtMTtcclxuICAgICAgICAgICAgZWxzZSBpZiAocGxheWVyLnJpZ2h0LmlzRG93bikgZHggPSAxO1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLnVwLmlzRG93bikgZHkgPSAtMTtcclxuICAgICAgICAgICAgZWxzZSBpZiAocGxheWVyLmRvd24uaXNEb3duKSBkeSA9IDE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgZGlzdFRvRm9sbG93ID0gcGxheWVyLmRpc3RUb0ZvbGxvdztcclxuXHJcbiAgICAgICAgICAgIGlmICghcGxheWVyLmZvbGxvd01vdmUgJiYgZGlzdFRvRm9sbG93ID4gNjApIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5mb2xsb3dNb3ZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghcGxheWVyLmluZm8uZm9sbG93aW5nLmZseWluZyAmJiBwbGF5ZXIuZm9sbG93TW92ZSAmJiBkaXN0VG9Gb2xsb3cgPCA0MCkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLmZvbGxvd01vdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHBsYXllci5mb2xsb3dNb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICBkeCA9IHBsYXllci5pbmZvLmZvbGxvd2luZy5jb250YWluZXIueCAtIHBsYXllci5jb250YWluZXIueDtcclxuICAgICAgICAgICAgICAgIGR5ID0gcGxheWVyLmluZm8uZm9sbG93aW5nLmNvbnRhaW5lci55IC0gcGxheWVyLmNvbnRhaW5lci55O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm1vdmUoZHgsIGR5KTtcclxuICAgIH0sXHJcblxyXG4gICAgbW92ZShwbGF5ZXI6IFBsYXllciwgZHg6IG51bWJlciwgZHk6IG51bWJlcikge1xyXG4gICAgICAgIGR4ID0gaGVscGVycy5jbGFtcCgtMSwgMSwgZHgpO1xyXG4gICAgICAgIGR5ID0gaGVscGVycy5jbGFtcCgtMSwgMSwgZHkpO1xyXG5cclxuICAgICAgICBpZiAoZHggPT0gMCAmJiBkeSA9PSAwKSB7XHJcbiAgICAgICAgICAgIHBsYXllci50YXJnZXRBbmdsZSA9IDA7XHJcbiAgICAgICAgICAgIHBsYXllci5mbHlpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGxheWVyLmZseWluZyA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmIChkeCA+IDApIHBsYXllci50YXJnZXRBbmdsZSA9IDE7XHJcbiAgICAgICAgZWxzZSBpZiAoZHggPCAwKSBwbGF5ZXIudGFyZ2V0QW5nbGUgPSAtMTtcclxuICAgICAgICBlbHNlIHBsYXllci50YXJnZXRBbmdsZSA9IDA7XHJcblxyXG4gICAgICAgIGNvbnN0IHRoZXRhID0gTWF0aC5hdGFuMihkeSwgZHgpO1xyXG5cclxuICAgICAgICBsZXQgZiA9IDM7XHJcbiAgICAgICAgaWYgKHBsYXllci5pbmZvLmlzQ29tKSBmICo9IDAuOTI7XHJcbiAgICAgICAgaWYgKHBsYXllci5pbmZvLmlzQ29tICYmIHBsYXllci5kaXN0VG9Gb2xsb3cgPCAzMCkgZiAqPSAwLjc7XHJcblxyXG5cclxuICAgICAgICBwbGF5ZXIuY29udGFpbmVyLnggKz0gTWF0aC5jb3ModGhldGEpKmY7XHJcbiAgICAgICAgcGxheWVyLmNvbnRhaW5lci55ICs9IE1hdGguc2luKHRoZXRhKSpmO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IGhlbHBlcnMgZnJvbSBcIi4uL2hlbHBlcnNcIjtcclxuaW1wb3J0IHsgQmF0dGxlRW50aXR5LCBCYXR0bGVTdGF0cyB9IGZyb20gXCIuL0JhdHRsZUVudGl0eVwiO1xyXG5pbXBvcnQgb3ZlcndvcmxkIGZyb20gXCIuL1BsYXllci9vdmVyd29ybGRcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGxheWVySW5mbyB7XHJcbiAgICBmb2xsb3dpbmc/OiBQbGF5ZXI7XHJcbiAgICBpc0NvbTogYm9vbGVhbjtcclxuICAgIGtleTogc3RyaW5nO1xyXG4gICAgcGFydHlJZHg6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXllciBleHRlbmRzIFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGUgaW1wbGVtZW50cyBCYXR0bGVFbnRpdHkge1xyXG4gICAgc2hhZG93OiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlO1xyXG4gICAgYm9vc3RGbGFtZTogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZTtcclxuICAgIGNvbnRhaW5lcjogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcclxuICAgIHVwOiBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5O1xyXG4gICAgZG93bjogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIGxlZnQ6IFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXk7XHJcbiAgICByaWdodDogUGhhc2VyLklucHV0LktleWJvYXJkLktleTtcclxuICAgIHRhcmdldEFuZ2xlOiBudW1iZXI7XHJcbiAgICBmbHlpbmc6IGJvb2xlYW47XHJcbiAgICBmb2xsb3dNb3ZlOiBib29sZWFuO1xyXG5cclxuICAgIGdldCBheCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5jb250YWluZXIueDsgfVxyXG4gICAgc2V0IGF4KHY6IG51bWJlcikgeyB0aGlzLmNvbnRhaW5lci54ID0gdjsgfVxyXG4gICAgZ2V0IGF5KCk6IG51bWJlciB7IHJldHVybiB0aGlzLmNvbnRhaW5lci55OyB9XHJcbiAgICBzZXQgYXkodjogbnVtYmVyKSB7IHRoaXMuY29udGFpbmVyLnkgPSB2OyB9XHJcbiAgICBzdGF0czogQmF0dGxlU3RhdHMgPSBuZXcgQmF0dGxlU3RhdHMoKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZTogUGhhc2VyLlNjZW5lLCBwdWJsaWMgaW5mbzogUGxheWVySW5mbykge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lLCAwLCAwLCBpbmZvLmtleSk7XHJcbiAgICAgICAgc2NlbmUuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiBcImhvdmVyX2ZsYW1lXCIsXHJcbiAgICAgICAgICAgIGZyYW1lczogc2NlbmUuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoXCJob3Zlcl9mbGFtZVwiLCB7IHN0YXJ0OiAwLCBlbmQ6IDQwLCB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA2MCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuXHJcbiAgICAgICAgdGhpcy5zaGFkb3cgPSBzY2VuZS5hZGQuc3ByaXRlKDAsIDAsIFwic2hhZG93XCIpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IHNjZW5lLmFkZC5jb250YWluZXIoMzAwLCAzMDApO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pbmZvLmtleSlcclxuXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuZGVwdGggPSAxMDAgLSB0aGlzLmluZm8ucGFydHlJZHg7XHJcblxyXG4gICAgICAgIHNjZW5lLmFkZC5leGlzdGluZyh0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5ib29zdEZsYW1lID0gc2NlbmUuYWRkLnNwcml0ZSgwLCAwLCBcImhvdmVyX2ZsYW1lXCIpO1xyXG4gICAgICAgIHRoaXMuYm9vc3RGbGFtZS5hbmltcy5wbGF5KFwiaG92ZXJfZmxhbWVcIik7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZChbXHJcbiAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgIHRoaXMuYm9vc3RGbGFtZSxcclxuICAgICAgICBdKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmluZm8uaXNDb20pIHtcclxuICAgICAgICAgICAgdGhpcy51cCA9IHNjZW5lLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXMuVVApO1xyXG4gICAgICAgICAgICB0aGlzLmRvd24gPSBzY2VuZS5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkRPV04pO1xyXG4gICAgICAgICAgICB0aGlzLmxlZnQgPSBzY2VuZS5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzLkxFRlQpO1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2h0ID0gc2NlbmUuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlcy5SSUdIVCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBkaXN0VG9Gb2xsb3coKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gaGVscGVycy5kaXN0KHRoaXMuY29udGFpbmVyLCB0aGlzLmluZm8uZm9sbG93aW5nLmNvbnRhaW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlVXBkYXRlKHQ6IG51bWJlciwgZGVsdGE6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyLnByZVVwZGF0ZSh0LCBkZWx0YSlcclxuXHJcbiAgICAgICAgdGhpcy5zaGFkb3cueCA9IHRoaXMuY29udGFpbmVyLng7XHJcbiAgICAgICAgdGhpcy5zaGFkb3cueSA9IHRoaXMuY29udGFpbmVyLnk7XHJcblxyXG4gICAgICAgIHRoaXMuYm9vc3RGbGFtZS54ID0gdGhpcy54ICsgMjtcclxuICAgICAgICB0aGlzLmJvb3N0RmxhbWUueSA9IHRoaXMueSArIDI0O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0cy5pbkJhdHRsZSkge1xyXG4gICAgICAgICAgICBvdmVyd29ybGQucHJlVXBkYXRlKHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuYW5nbGUgPSBoZWxwZXJzLmxlcnAodGhpcy5jb250YWluZXIuYW5nbGUsIHRoaXMudGFyZ2V0QW5nbGUqMjAsIDAuMTUpO1xyXG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLmNvbnRhaW5lci5hbmdsZSkgPCAzICYmIHRoaXMudGFyZ2V0QW5nbGUgPT0gMCkgdGhpcy5jb250YWluZXIuYW5nbGUgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmJvb3N0RmxhbWUuYWxwaGEgPSAgMDtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnkgPSBoZWxwZXJzLmxlcnAoXHJcbiAgICAgICAgICAgIHRoaXMueSxcclxuICAgICAgICAgICAgdGhpcy5mbHlpbmcgP1xyXG4gICAgICAgICAgICAgICAgLTEwICsgTWF0aC5zaW4odGhpcy5zY2VuZS50aW1lLm5vdyowLjAxKSo1XHJcbiAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAwLFxyXG4gICAgICAgIDAuMTUpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQmF0dGxlRW50aXR5LCBCYXR0bGVTdGF0cyB9IGZyb20gXCIuL0JhdHRsZUVudGl0eVwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFbmVteUluZm8ge1xyXG4gICAga2V5OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFbmVteSBleHRlbmRzIFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGUgaW1wbGVtZW50cyBCYXR0bGVFbnRpdHkge1xyXG4gICAgZ2V0IGF4KCk6IG51bWJlciB7IHJldHVybiB0aGlzLng7IH1cclxuICAgIHNldCBheCh2OiBudW1iZXIpIHsgdGhpcy54ID0gdjsgfVxyXG4gICAgZ2V0IGF5KCk6IG51bWJlciB7IHJldHVybiB0aGlzLnk7IH1cclxuICAgIHNldCBheSh2OiBudW1iZXIpIHsgdGhpcy55ID0gdjsgfVxyXG4gICAgc3RhdHM6IEJhdHRsZVN0YXRzID0gbmV3IEJhdHRsZVN0YXRzKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmU6IFBoYXNlci5TY2VuZSwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHB1YmxpYyBpbmZvOiBFbmVteUluZm8pIHtcclxuICAgICAgICBzdXBlcihzY2VuZSwgeCwgeSwgaW5mby5rZXkpXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHNjZW5lLmFkZC5leGlzdGluZyh0aGlzKTtcclxuICAgICAgICB0aGlzLmRlcHRoID0gNTA7XHJcbiAgICAgICAgdGhpcy5hbmltcy5wbGF5KGluZm8ua2V5ICsgXCJfaWRsZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVVcGRhdGUodDogbnVtYmVyLCBkZWx0YTogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIucHJlVXBkYXRlKHQsIGRlbHRhKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7UGxheWVyfSBmcm9tIFwiLi4vZW50aXRpZXMvUGxheWVyXCI7XHJcbmltcG9ydCB7IEVuZW15IH0gZnJvbSBcIi4uL2VudGl0aWVzL0VuZW15XCI7XHJcbmltcG9ydCB7IEJhdHRsZUVudGl0eSB9IGZyb20gXCIuLi9lbnRpdGllcy9CYXR0bGVFbnRpdHlcIjtcclxuaW1wb3J0IGhlbHBlcnMgZnJvbSBcIi4uL2hlbHBlcnNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNYWluU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgcGxheWVyOiBQbGF5ZXI7XHJcbiAgICBwYXJ0eTogUGxheWVyW107XHJcbiAgICBlbmVtaWVzOiBCYXR0bGVFbnRpdHlbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcih7XHJcbiAgICAgICAgICAgIGtleTogXCJNYWluU2NlbmVcIlxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKFwiYmdcIiwgXCIvYXNzZXRzL2JnLnBuZ1wiKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoXCJzaGFkb3dcIiwgXCIvYXNzZXRzL3NoYWRvdy5wbmdcIik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKFwib2N0b2NhdDFcIiwgXCIvYXNzZXRzL29jdG9jYXQucG5nXCIpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZShcIm9jdG9jYXQyXCIsIFwiL2Fzc2V0cy9vY3RvY2F0Mi5wbmdcIik7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKFwib2N0b2NhdDNcIiwgXCIvYXNzZXRzL29jdG9jYXQzLnBuZ1wiKTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoXCJob3Zlcl9mbGFtZVwiLCBcIi9hc3NldHMvaG92ZXJfZmxhbWUucG5nXCIsIHtcclxuICAgICAgICAgICAgc3RhcnRGcmFtZTogMCxcclxuICAgICAgICAgICAgZW5kRnJhbWU6IDQwLFxyXG4gICAgICAgICAgICBmcmFtZVdpZHRoOiAxMDAsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiAxMDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoXCJzbGltZTFcIiwgXCIvYXNzZXRzL3NsaW1lMS5wbmdcIiwge1xyXG4gICAgICAgICAgICBzdGFydEZyYW1lOiAwLFxyXG4gICAgICAgICAgICBlbmRGcmFtZTogNyxcclxuICAgICAgICAgICAgZnJhbWVXaWR0aDogNDAsXHJcbiAgICAgICAgICAgIGZyYW1lSGVpZ2h0OiA0MFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoXCJ0aWxlc1wiLCBcIi9hc3NldHMvdGlsZW1hcC5wbmdcIik7XHJcbiAgICAgICAgdGhpcy5sb2FkLnRpbGVtYXBUaWxlZEpTT04oXCJsZXZlbDFcIiwgXCIvYXNzZXRzL2xldmVscy9sZXZlbDEuanNvblwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6IFwic2xpbWUxX2lkbGVcIixcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKFwic2xpbWUxXCIsIHsgc3RhcnQ6IDAsIGVuZDogM30pLFxyXG4gICAgICAgICAgICB5b3lvOiB0cnVlLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDgsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5tYWtlLnRpbGVtYXAoe1xyXG4gICAgICAgICAgICBrZXk6IFwibGV2ZWwxXCIsXHJcbiAgICAgICAgICAgIHRpbGVXaWR0aDogMjAsXHJcbiAgICAgICAgICAgIHRpbGVIZWlnaHQ6IDIwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgdGlsZXNldEltZyA9IG1hcC5hZGRUaWxlc2V0SW1hZ2UoXCJ0aWxlbWFwXCIsIFwidGlsZXNcIik7XHJcblxyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBtYXAubGF5ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxheWVyID0gbWFwLmxheWVyc1swXTtcclxuICAgICAgICAgICAgbWFwLmNyZWF0ZVN0YXRpY0xheWVyKGksIHRpbGVzZXRJbWcsIGxheWVyLngsIGxheWVyLnkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc2V0Qm91bmRzKDAsIDAsIG1hcC53aWR0aEluUGl4ZWxzLCBtYXAuaGVpZ2h0SW5QaXhlbHMpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIodGhpcywgeyBpc0NvbTogZmFsc2UsIGtleTogXCJvY3RvY2F0MVwiLCBwYXJ0eUlkeDogMCB9KTtcclxuICAgICAgICBjb25zdCBwbGF5ZXIyID0gbmV3IFBsYXllcih0aGlzLCB7IGlzQ29tOiB0cnVlLCBrZXk6IFwib2N0b2NhdDJcIiwgZm9sbG93aW5nOiB0aGlzLnBsYXllciwgcGFydHlJZHg6IDF9KTtcclxuICAgICAgICBjb25zdCBwbGF5ZXIzID0gbmV3IFBsYXllcih0aGlzLCB7IGlzQ29tOiB0cnVlLCBrZXk6IFwib2N0b2NhdDNcIiwgZm9sbG93aW5nOiBwbGF5ZXIyLCBwYXJ0eUlkeDogMiB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5wYXJ0eSA9IFsgdGhpcy5wbGF5ZXIsIHBsYXllcjIsIHBsYXllcjMgXTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uc3RhcnRGb2xsb3codGhpcy5wbGF5ZXIuY29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgY29uc3QgZSA9IG5ldyBFbmVteSh0aGlzLCA0NTAsIDY1MCwge1xyXG4gICAgICAgICAgICBrZXk6IFwic2xpbWUxXCIsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZW5lbWllcyA9IFtlXTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgZm9yKGxldCBlIG9mIHRoaXMuZW5lbWllcykge1xyXG4gICAgICAgICAgICBpZiAoaGVscGVycy5kaXN0KHRoaXMucGxheWVyLmNvbnRhaW5lciwgZSkgPCA5MCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJiYXR0bGUgc3RhcnRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgU2NhbGVNYW5hZ2VyIGZyb20gXCIuL3NjYWxlTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBNYWluU2NlbmUgfSBmcm9tIFwiLi9zY2VuZXMvTWFpblNjZW5lXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUm9ja1JhY2luZ0dhbWUge1xyXG4gICAgcHJpdmF0ZSBfZ2FtZTogUGhhc2VyLkdhbWU7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5fZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZSh7XHJcbiAgICAgICAgICAgIHdpZHRoOiA5NjAsXHJcbiAgICAgICAgICAgIGhlaWdodDogNTQwLFxyXG4gICAgICAgICAgICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICAgICAgICAgICAgem9vbTogMixcclxuICAgICAgICAgICAgcmVuZGVyOiB7XHJcbiAgICAgICAgICAgICAgICBwaXhlbEFydDogdHJ1ZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2NlbmU6IE1haW5TY2VuZSxcclxuICAgICAgICAgICAgcGh5c2ljczoge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogXCJtYXR0ZXJcIixcclxuICAgICAgICAgICAgICAgIG1hdHRlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlYnVnOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xyXG4gICAgICAgICAgICAgICAgcG9zdEJvb3Q6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgU2NhbGVNYW5hZ2VyKHRoaXMuX2dhbWUuY2FudmFzLCAhdGhpcy5fZ2FtZS5kZXZpY2Uub3MuZGVza3RvcCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7Um9ja1JhY2luZ0dhbWV9IGZyb20gXCIuL1JvY2tSYWNpbmdHYW1lXCI7XHJcblxyXG5jb25zdCBnID0gbmV3IFJvY2tSYWNpbmdHYW1lKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n')}]);